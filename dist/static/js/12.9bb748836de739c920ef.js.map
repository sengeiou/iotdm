{"version":3,"sources":["webpack:///src/pages/Home/accessToDev.vue","webpack:///./src/pages/Home/accessToDev.vue?787c","webpack:///./src/pages/Home/accessToDev.vue"],"names":["columns","dataIndex","key","title","scopedSlots","customRender","accessToDev","name","data","customRenderList","mounted","this","type","host","address","computed","columnsList","_this","filderList","map","ele","includes","extends_default","renderContent","customGoal","obj","forEach","value","index","rowSpanNumber","methods","_this2","that","row","children","attrs","interspace","number","idx","arr","firstIdx","cumputdRowSpan","rowSpan","copyText","text","tag","document","createElement","setAttribute","getElementsByTagName","appendChild","getElementById","select","execCommand","remove","$message","success","Home_accessToDev","render","_vm","_h","$createElement","_c","_self","_m","_v","staticClass","pagination","rowKey","record","data-source","_u","fn","staticStyle","color","on","click","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/12.9bb748836de739c920ef.js","sourcesContent":["<template>\n  <div>\n    <div class=\"home-title\">\n      <span>接入信息</span>\n    </div>\n    <div class=\"table-content\">\n      <div class=\"table-box\">\n        <a-table :columns=\"columnsList\"\n                 :pagination=\"false\"\n                 :rowKey=\"(record, index) => {return index}\"\n                 :data-source=\"data\">\n        <span slot=\"action\" slot-scope=\"text, record\">\n          <a-icon type=\"copy\" style=\" color: #0456de;\" @click=\"copyText(record.address)\"/>\n         </span>\n        </a-table>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nfunction cumputdRowSpan(idx, dataIndex, arr) {\n  let firstIdx = idx // 原下标\n  let index = idx // 递增下标\n  let number = 0\n  do {\n    number += 1\n    index += 1\n  } while (!!arr[index] && arr[index][dataIndex] === arr[firstIdx][dataIndex]) // 当不存在下一个元素或者已经与当前数据不相同不能进行合并时跳出循环\n  return number// 返回需要向下合并的数量\n}\n\nconst columns = [\n  {\n    dataIndex: 'type',\n    key: 'type',\n    title: '接入协议',\n    scopedSlots: {customRender: 'type'}\n  },\n  {\n    title: '接入协议（端口号）',\n    dataIndex: 'host',\n    key: 'host'\n  },\n  {\n    title: '接入地址',\n    dataIndex: 'address',\n    key: 'address'\n  },\n  {\n    title: '操作',\n    key: 'action',\n    scopedSlots: {customRender: 'action'}\n  }\n]\nexport default {\n  name: 'accessToDev',\n  data() {\n    return {\n      customRenderList: ['type'],\n      columns,\n      data: []\n    }\n  },\n  mounted() {\n    if (process.env.NODE_ENV === 'production') {\n      let developmentData = [\n        {\n          type: '应用接入',\n          host: 'HTTPS（443）',\n          address: 'iotdm.aibaixun.com'\n        },\n        {\n          type: '应用接入',\n          host: 'AMQPS（5672）',\n          address: 'mq.aibaixun.com'\n        },\n        {\n          type: '设备接入',\n          host: 'CoAP',\n          address: '/'\n        },\n        {\n          type: '设备接入',\n          host: 'HTTPS',\n          address: '/'\n        },\n        {\n          type: '设备接入',\n          host: 'MQTT（1883）',\n          address: 'iot.aibaixun.com'\n        }\n      ]\n      this.data = developmentData\n    } else {\n      let productData = [\n        {\n          type: '应用接入',\n          host: 'HTTPS（443）',\n          address: 'iotdm.baixun.com'\n        },\n        {\n          type: '应用接入',\n          host: 'AMQPS（5672）',\n          address: 'mq.baixun.com'\n        },\n        {\n          type: '设备接入',\n          host: 'CoAP',\n          address: '/'\n        },\n        {\n          type: '设备接入',\n          host: 'HTTPS',\n          address: '/'\n        },\n        {\n          type: '设备接入',\n          host: 'MQTT（1883）',\n          address: 'iot.baixun.com'\n        }\n      ]\n      this.data = productData\n    }\n  },\n  computed: {\n    columnsList: function () {\n      // 计算需要进行合并的表头，对符合customRenderList数组元素的属性添加customRender进行合并计算\n      let filderList = this.customRenderList\n      return this.columns.map((ele) => {\n        if (filderList.includes(ele.dataIndex)) {\n          return {\n            ...ele,\n            customRender: this.renderContent(ele.dataIndex) // 当识别到这一项是需要进行合并的项时，传入customRender方法\n          }\n        } else {\n          return {\n            ...ele\n          }\n        }\n      })\n    },\n    customGoal: function () {\n      // 设置一个obj对象动态存储需要静态记录的属性，每一个dataIndex独立一个动态的记忆区域\n      let obj = {}\n      this.customRenderList.forEach((key) => {\n        obj[key] = {\n          value: null,\n          index: null,\n          rowSpanNumber: null\n        }\n      })\n      return obj\n    }\n  },\n  methods: {\n    renderContent(name) {\n      // 动态计算函数，根据传入的dataIndex唯一标识进行计算\n      let dataIndex = name\n      // 存储this，不会修改this指向\n      let that = this\n      return (value, row, index) => {\n        // 官方例子\n        const obj = {\n          children: value,\n          attrs: {}\n        }\n        let interspace = this.customGoal[dataIndex]\n        if (value !== interspace.value) {\n          // 当前value如果和空间内存放的value不相同时，则不继续向下合并单元格，重置当前计算空间，并计算需要向下合并多少单元格\n          // 传入参数计算需要向下合并多少个单元格\n          let number = cumputdRowSpan(index, dataIndex, that.data)\n          interspace['value'] = value\n          interspace['index'] = index\n          interspace['rowSpanNumber'] = number\n          obj.attrs.rowSpan = number\n        } else {\n          // 当value与计算空间value相同时则认为当前单元格需要被隐藏 obj.attrs.rowSpan = 0;\n          obj.attrs.rowSpan = 0\n        }\n        return obj\n      }\n    },\n    /**\n     * 复制文本\n     * */\n    copyText (text) {\n      let tag = document.createElement('input')\n      tag.setAttribute('id', 'copyTextInput')\n      tag.value = text\n      document.getElementsByTagName('body')[0].appendChild(tag)\n      document.getElementById('copyTextInput').select()\n      document.execCommand('copy')\n      document.getElementById('copyTextInput').remove()\n      this.$message.success('复制成功')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.table-content {\n  padding-top: 24px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/Home/accessToDev.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"table-content\"},[_c('div',{staticClass:\"table-box\"},[_c('a-table',{attrs:{\"columns\":_vm.columnsList,\"pagination\":false,\"rowKey\":function (record, index) {return index},\"data-source\":_vm.data},scopedSlots:_vm._u([{key:\"action\",fn:function(text, record){return _c('span',{},[_c('a-icon',{staticStyle:{\"color\":\"#0456de\"},attrs:{\"type\":\"copy\"},on:{\"click\":function($event){return _vm.copyText(record.address)}}})],1)}}])})],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home-title\"},[_c('span',[_vm._v(\"接入信息\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-1f0f0ff8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/Home/accessToDev.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1f0f0ff8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./accessToDev.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./accessToDev.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./accessToDev.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1f0f0ff8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./accessToDev.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1f0f0ff8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Home/accessToDev.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}