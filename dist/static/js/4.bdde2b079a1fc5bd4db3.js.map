{"version":3,"sources":["webpack:///src/pages/equipment/Details/OverView/overView.vue","webpack:///./src/pages/equipment/Details/OverView/overView.vue?7252","webpack:///./src/pages/equipment/Details/OverView/overView.vue","webpack:///src/pages/equipment/Details/Command/commandTable.vue","webpack:///./src/pages/equipment/Details/Command/commandTable.vue?b198","webpack:///./src/pages/equipment/Details/Command/commandTable.vue","webpack:///src/pages/equipment/Details/Command/commandAsy.vue","webpack:///./src/pages/equipment/Details/Command/commandAsy.vue?267a","webpack:///./src/pages/equipment/Details/Command/commandAsy.vue","webpack:///src/pages/equipment/Details/EquipmentShadow/equipmentShadow.vue","webpack:///./src/pages/equipment/Details/EquipmentShadow/equipmentShadow.vue?7eef","webpack:///./src/pages/equipment/Details/EquipmentShadow/equipmentShadow.vue","webpack:///src/pages/equipment/Details/MessageTrack/messageTrack.vue","webpack:///./src/pages/equipment/Details/MessageTrack/messageTrack.vue?746c","webpack:///./src/pages/equipment/Details/MessageTrack/messageTrack.vue","webpack:///src/pages/equipment/Details/ChildDevice/childDevice.vue","webpack:///./src/pages/equipment/Details/ChildDevice/childDevice.vue?5524","webpack:///./src/pages/equipment/Details/ChildDevice/childDevice.vue","webpack:///src/pages/equipment/equipmentDetails.vue","webpack:///./src/pages/equipment/equipmentDetails.vue?bf46","webpack:///./src/pages/equipment/equipmentDetails.vue"],"names":["overView","name","props","data","isEdit","deviceObj","nodeArr","value","label","stateArr","color","deviceData","timer","activated","this","getDetails","getDeviceDatas","setDeviceData","created","beforeDestroy","clearInterval","methods","_this","$api","getDeviceDetails","deviceId","then","res","assign_default","createTime","$getDate","timestamp","deviceBtn","deviceClose","deviceEdit","_this2","obj","id","deviceLabel","putDevice","lookView","$emit","copyText","text","tag","document","createElement","setAttribute","getElementsByTagName","appendChild","getElementById","select","execCommand","remove","$message","success","_this3","getDeviceData","map","item","modelLabel","ts","_this4","setInterval","goProduct","$router","push","path","query","OverView_overView","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","placeholder","model","callback","$$v","$set","expression","_v","staticStyle","type","on","click","margin-left","_s","width","height","_l","index","deviceStatus","key","style","background","_e","$event","productId","productLabel","column","deviceCode","authType","deviceSecret","nodeType","propertyLabel","propertyValue","staticRenderFns","Details_OverView_overView","__webpack_require__","normalizeComponent","ssrContext","columns","dataIndex","ellipsis","title","scopedSlots","customRender","commandTable","searchObj","commandLabel","sendStatusRrr","pagination","showLessItems","pageSizeOptions","showSizeChanger","pageSize","current","hideOnSinglePage","total","commandList","visible","labelCol","span","wrapperCol","form","commandId","undefined","params","isParams","paramsArr","commandDataArr","rules","required","message","trigger","getList","tableChange","pageOption","page","getDeviceCommandPage","resData","size","resRecords","records","respTs","getProductCommand","getProductInfo","productCommand","models","length","commands","commandItem","commandObj","modelId","handleChange","val","paramDataArr","modelItem","paramLabel","showModal","handleOk","items","$refs","ruleForm","validate","valid","sendDeviceCommand","closeHandle","resetFields","onSearch","Command_commandTable","margin","allowClear","blur","search","rowKey","record","data-source","change","_u","fn","ok","cancel","ref","label-col","wrapper-col","prop","commandAsy","components","commandTable_normalizeComponent","Command_commandAsy","_m","Details_Command_commandAsy","commandAsy_normalizeComponent","equipmentShadow_columns","equipmentShadow","customRenderList","computed","columnsList","filderList","ele","includes","extends_default","renderContent","customGoal","forEach","rowSpanNumber","that","row","children","interspace","number","idx","arr","firstIdx","cumputdRowSpan","rowSpan","getDeviceShadowList","e","EquipmentShadow_equipmentShadow","messageTrack_columns","messageTrack","messageStatus","stepArr","typeArr","lastTime","other","dates","hours","minutes","isData","isStop","disabled","devVisible","devObj","times","isBtnData","ttl","businessType","debugDevice","getDeviceMessage","getInter","$once","getTimes","getDeviceMessageTime","deleteMeaasge","deleteDeviceMessageData","stopMessage","clearMessage","_this5","deleteDataLog","_this6","postDeviceMessage","messageDetail","devhandleOk","MessageTrack_messageTrack","theme","icon","ghost","margin-right","min","businessStep","businessDetails","childDevice_columns","childDevice","productArr","gatewayId","gateWayId","getSubDeviceList","deleteCancel","deleteSubDevice","getProductList","getProductAllList","limit","productSearch","postSubDevice","deviceDetails","DevHandleOk","ChildDevice_childDevice","ok-text","cancel-text","confirm","show-search","option-filter-prop","bordered","equipmentDetails","equipmentShadow_normalizeComponent","messageTrack_normalizeComponent","childDevice_normalizeComponent","tabIndex","$route","goBack","changeTab","equipment_equipmentDetails","destroyInactiveTabPane","tab","equipmentDetails_Component","equipmentDetails_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/4.bdde2b079a1fc5bd4db3.js","sourcesContent":["<template>\n<div>\n  <div class=\"dev-content\">\n    <div class=\"table-detail\">\n      <div class=\"detail-title\">\n          <div class=\"titles\">\n            <div class=\"titles-ipt\" v-if=\"isEdit\">\n              <a-input v-model=\"deviceObj.deviceLabel\" placeholder=\"请输入设备名称\" />\n              <a-icon type=\"check\" style=\"color: #15C937\" @click=\"deviceEdit\"/>\n              <a-icon type=\"close\" style=\"color: #C91521; margin-left: 15px;\" @click=\"deviceClose\"/>\n            </div>\n            <div v-else>\n              <span>{{deviceObj.deviceLabel}}</span>\n              <a-icon type=\"edit\" style=\"color: #45D7B6;width: 12px;height: 14px\" @click=\"deviceBtn\"/>\n            </div>\n          </div>\n          <div class=\"title-style\">\n            <span v-for=\"(item, index) in stateArr\" :key=\"index\" v-if=\"item.value === deviceObj.deviceStatus\">\n              <span class=\"device-status\" :style=\"{background: item.color}\"></span>\n              {{item.label}}\n            </span>\n           </div>\n          <div class=\"dev-product\">\n            所属产品：<span @click=\"goProduct(deviceObj.productId)\"> {{deviceObj.productLabel}}</span>\n         </div>\n      </div>\n      <a-descriptions :column=\"2\">\n        <a-descriptions-item label=\"设备标识码\">\n          {{deviceObj.deviceCode}}\n          <a-icon type=\"copy\"  @click=\"copyText(deviceObj.deviceCode)\"/>\n        </a-descriptions-item>\n        <a-descriptions-item label=\"设备ID\">\n          {{deviceObj.id}}\n          <a-icon type=\"copy\"  @click=\"copyText(deviceObj.id)\"/>\n        </a-descriptions-item>\n        <a-descriptions-item label=\"认证类型\">\n          <span v-if=\"deviceObj.authType === 'SECRET'\">密钥</span>\n        </a-descriptions-item>\n        <a-descriptions-item label=\"设备密钥\">\n          {{deviceObj.deviceSecret}}\n          <a-icon type=\"copy\"  @click=\"copyText(deviceObj.deviceSecret)\"/>\n        </a-descriptions-item>\n        <a-descriptions-item label=\"注册时间\">\n          {{deviceObj.createTime}}\n        </a-descriptions-item>\n        <a-descriptions-item label=\"节点类型\">\n          <span v-for=\"(item, index) in nodeArr\" :key=\"index\" v-if=\"item.value === deviceObj.nodeType\">\n            {{item.label}}\n          </span>\n        </a-descriptions-item>\n      </a-descriptions>\n    </div>\n    <div class=\"dev-datas\">\n      <div class=\"data-title\">\n        <span class=\"titles\">最新上报数据</span>\n        <div>\n<!--          <span class=\"table-btn\">查看历史数据</span>-->\n          <a-button type=\"primary\" @click=\"lookView\">查看全部属性</a-button>\n        </div>\n      </div>\n      <div class=\"card-list\">\n        <div class=\"data-card\" v-for=\"(item, index) in deviceData\" :key=\"index\">\n          <p>{{item.propertyLabel}}</p>\n          <p>{{item.propertyValue}} </p>\n          <span class=\"sub-title\"> {{item.modelLabel}} </span>\n          <span>{{item.ts}}</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nexport default {\n  name: 'overView',\n  props: ['deviceId'],\n  data () {\n    return {\n      isEdit: false,\n      deviceObj: {},\n      nodeArr: [\n        {\n          value: 'GATEWAY',\n          label: '直连设备'\n        },\n        {\n          value: 'ENDPOINT',\n          label: '网关子设备'\n        }\n      ],\n      stateArr: [\n        {\n          value: 'ONLINE',\n          color: '#15C937',\n          label: '在线'\n        },\n        {\n          value: 'WARN',\n          color: '#C91521',\n          label: '告警'\n        },\n        {\n          value: 'INACTIVE',\n          color: '#beccfa',\n          label: '未激活'\n        },\n        {\n          value: 'OFFLINE',\n          color: '#C8421B',\n          label: '离线'\n        },\n        {\n          value: 'STOP',\n          color: '#C8A01B',\n          label: 'STOP'\n        }\n      ],\n      deviceData: [],\n      timer: ''\n    }\n  },\n  activated() {\n    console.log('获取到ID', this.deviceId)\n    this.getDetails()\n    this.getDeviceDatas()\n    this.setDeviceData()\n  },\n  created() {\n    this.getDetails()\n    this.getDeviceDatas()\n    this.setDeviceData()\n  },\n  beforeDestroy() {\n    clearInterval(this.timer)\n    this.timer = null\n  },\n  methods: {\n    /**\n     * 获取设备详情\n     * */\n    getDetails() {\n      this.$api.getDeviceDetails(this.deviceId).then(res => {\n        console.log('设备详情', res)\n        this.deviceObj = res.data\n        Object.assign(this.deviceObj, {\n          createTime: this.$getDate({timestamp: this.deviceObj.createTime})\n        })\n      })\n    },\n    /**\n     * 修改设备名称\n     * */\n    deviceBtn() {\n      this.isEdit = true\n    },\n    deviceClose() {\n      this.isEdit = false\n      this.getDetails()\n    },\n    deviceEdit() {\n      const obj = {\n        deviceId: this.deviceObj.id,\n        deviceLabel: this.deviceObj.deviceLabel\n      }\n      this.$api.putDevice(obj).then(res => {\n        this.isEdit = false\n        this.getDetails()\n      })\n    },\n    /**\n     * 查看全部属性\n     * */\n    lookView() {\n      this.$emit('tabIndex', '3')\n    },\n    /**\n     * 复制文本\n     * */\n    copyText (text) {\n      let tag = document.createElement('input')\n      tag.setAttribute('id', 'copyTextInput')\n      tag.value = text\n      document.getElementsByTagName('body')[0].appendChild(tag)\n      document.getElementById('copyTextInput').select()\n      document.execCommand('copy')\n      document.getElementById('copyTextInput').remove()\n      this.$message.success('复制成功')\n    },\n    /**\n     * 获取设备最新命令\n     * */\n    getDeviceDatas() {\n      const obj = {\n        deviceId: this.deviceId\n      }\n      this.$api.getDeviceData(obj).then(res => {\n        console.log('获取设备最新数据', res)\n        this.deviceData = res.data\n        this.deviceData.map(item => {\n          Object.assign(item, {\n            modelLabel: `<${item.modelLabel}>`,\n            ts: this.$getDate({timestamp: item.ts})\n          })\n        })\n      })\n    },\n    /**\n     * 最新数据更新\n     * */\n    setDeviceData() {\n      this.timer = setInterval(() => {\n        this.getDeviceDatas()\n      }, 6000)\n    },\n    goProduct(id) {\n      this.$router.push({\n        path: '/productDetails',\n        query: {\n          id: id\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dev-content {\n  .table-detail {\n    margin-top: 20px;\n    .detail-title {\n      display: flex;\n      margin-bottom: 15px;\n      text-align: center;\n      height: 68px;\n      background: rgba(16,103,238,0.04);\n      border-radius: 4px;\n      font-size: 14px;\n      line-height: 68px;\n      padding-left: 40px;\n      .titles {\n        color: #333333;\n        font-weight: bold;\n        margin-bottom: 15px;\n      }\n      .title-style {\n        margin-left: 55px;\n      }\n      .dev-product {\n        margin-left: 55px;\n        height: 32px;\n        background: #ffffff;\n        border: 1px solid rgba(109,114,120,0.11);\n        border-radius: 4px;\n        line-height: 32px;\n        margin-top: 15px;\n        padding: 0 10px;\n      }\n    }\n  }\n  .dev-datas {\n    margin-top: 64px;\n    background: #ffffff;\n    .data-title {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      height: 68px;\n      background: rgba(16,103,238,0.04);\n      border-radius: 4px;\n      font-size: 14px;\n      line-height: 68px;\n      padding: 0 40px;\n      .titles {\n         font-size: 14px;\n         font-weight: 700;\n      }\n    }\n    .card-list {\n      display: flex;\n      align-items: center;\n      margin-top: 40px;\n      .data-card {\n        width: 400px;\n        border-right: 1px dashed #e0e4e7;\n        text-align: center;\n        p{\n          font-size: 16px;\n          font-weight: bold;\n          color: #333333;\n          margin-bottom: 0.8rem;\n        }\n        .sub-title{\n          display: block;\n          font-size: 14px;\n          color: #333333;\n          margin-bottom: 0.8rem;\n        }\n      }\n    }\n  }\n}\n.titles-ipt {\n  display: flex;\n  margin-top: 15px;\n  i {\n    padding-left: 15px;\n    margin-top: 9px;\n  }\n}\ni {\n  color: #0456de;\n  width: 12px;\n  height: 12px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/equipment/Details/OverView/overView.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"dev-content\"},[_c('div',{staticClass:\"table-detail\"},[_c('div',{staticClass:\"detail-title\"},[_c('div',{staticClass:\"titles\"},[(_vm.isEdit)?_c('div',{staticClass:\"titles-ipt\"},[_c('a-input',{attrs:{\"placeholder\":\"请输入设备名称\"},model:{value:(_vm.deviceObj.deviceLabel),callback:function ($$v) {_vm.$set(_vm.deviceObj, \"deviceLabel\", $$v)},expression:\"deviceObj.deviceLabel\"}}),_vm._v(\" \"),_c('a-icon',{staticStyle:{\"color\":\"#15C937\"},attrs:{\"type\":\"check\"},on:{\"click\":_vm.deviceEdit}}),_vm._v(\" \"),_c('a-icon',{staticStyle:{\"color\":\"#C91521\",\"margin-left\":\"15px\"},attrs:{\"type\":\"close\"},on:{\"click\":_vm.deviceClose}})],1):_c('div',[_c('span',[_vm._v(_vm._s(_vm.deviceObj.deviceLabel))]),_vm._v(\" \"),_c('a-icon',{staticStyle:{\"color\":\"#45D7B6\",\"width\":\"12px\",\"height\":\"14px\"},attrs:{\"type\":\"edit\"},on:{\"click\":_vm.deviceBtn}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"title-style\"},_vm._l((_vm.stateArr),function(item,index){return (item.value === _vm.deviceObj.deviceStatus)?_c('span',{key:index},[_c('span',{staticClass:\"device-status\",style:({background: item.color})}),_vm._v(\"\\n              \"+_vm._s(item.label)+\"\\n            \")]):_vm._e()}),0),_vm._v(\" \"),_c('div',{staticClass:\"dev-product\"},[_vm._v(\"\\n            所属产品：\"),_c('span',{on:{\"click\":function($event){return _vm.goProduct(_vm.deviceObj.productId)}}},[_vm._v(\" \"+_vm._s(_vm.deviceObj.productLabel))])])]),_vm._v(\" \"),_c('a-descriptions',{attrs:{\"column\":2}},[_c('a-descriptions-item',{attrs:{\"label\":\"设备标识码\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.deviceObj.deviceCode)+\"\\n          \"),_c('a-icon',{attrs:{\"type\":\"copy\"},on:{\"click\":function($event){return _vm.copyText(_vm.deviceObj.deviceCode)}}})],1),_vm._v(\" \"),_c('a-descriptions-item',{attrs:{\"label\":\"设备ID\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.deviceObj.id)+\"\\n          \"),_c('a-icon',{attrs:{\"type\":\"copy\"},on:{\"click\":function($event){return _vm.copyText(_vm.deviceObj.id)}}})],1),_vm._v(\" \"),_c('a-descriptions-item',{attrs:{\"label\":\"认证类型\"}},[(_vm.deviceObj.authType === 'SECRET')?_c('span',[_vm._v(\"密钥\")]):_vm._e()]),_vm._v(\" \"),_c('a-descriptions-item',{attrs:{\"label\":\"设备密钥\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.deviceObj.deviceSecret)+\"\\n          \"),_c('a-icon',{attrs:{\"type\":\"copy\"},on:{\"click\":function($event){return _vm.copyText(_vm.deviceObj.deviceSecret)}}})],1),_vm._v(\" \"),_c('a-descriptions-item',{attrs:{\"label\":\"注册时间\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.deviceObj.createTime)+\"\\n        \")]),_vm._v(\" \"),_c('a-descriptions-item',{attrs:{\"label\":\"节点类型\"}},_vm._l((_vm.nodeArr),function(item,index){return (item.value === _vm.deviceObj.nodeType)?_c('span',{key:index},[_vm._v(\"\\n            \"+_vm._s(item.label)+\"\\n          \")]):_vm._e()}),0)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dev-datas\"},[_c('div',{staticClass:\"data-title\"},[_c('span',{staticClass:\"titles\"},[_vm._v(\"最新上报数据\")]),_vm._v(\" \"),_c('div',[_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.lookView}},[_vm._v(\"查看全部属性\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"card-list\"},_vm._l((_vm.deviceData),function(item,index){return _c('div',{key:index,staticClass:\"data-card\"},[_c('p',[_vm._v(_vm._s(item.propertyLabel))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(item.propertyValue)+\" \")]),_vm._v(\" \"),_c('span',{staticClass:\"sub-title\"},[_vm._v(\" \"+_vm._s(item.modelLabel)+\" \")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.ts))])])}),0)])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-58a24e8d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/equipment/Details/OverView/overView.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-58a24e8d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./overView.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./overView.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./overView.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-58a24e8d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./overView.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-58a24e8d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/equipment/Details/OverView/overView.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <div class=\"command-content\">\n      <div class=\"command-title\">\n        <a-button type=\"primary\" @click=\"showModal\">命令下发</a-button>\n        <a-input-search allowClear @blur=\"onSearch\" v-model=\"searchObj.commandLabel\" @search=\"onSearch\" style=\"width: 200px; margin: 0 20px\" placeholder=\"请输入命令名称搜索\" />\n      </div>\n      <div class=\"table-box\">\n        <a-table :columns=\"columns\"\n                 @change=\"tableChange\"\n                 :rowKey=\"(record, index) => {return index}\"\n                 :pagination=\"pagination\"\n                 :data-source=\"data\">\n          <span slot=\"name\" slot-scope=\"text\">{{ text }}</span>\n          <span slot=\"sendStatus\" slot-scope=\"text\">\n            <span v-for=\"(item, index) in sendStatusRrr\" :key=\"index\" v-if=\"item.value === text\">{{item.label}}</span>\n          </span>\n        </a-table>\n      </div>\n    </div>\n    <a-modal v-model=\"visible\" :width=\"700\" title=\"下发命令\" @ok=\"handleOk\" @cancel=\"closeHandle\">\n      <a-form-model\n        ref=\"ruleForm\"\n        :model=\"form\"\n        :rules=\"rules\"\n        :label-col=\"labelCol\"\n        :wrapper-col=\"wrapperCol\"\n      >\n        <a-form-model-item label=\"选择命令\" prop=\"commandId\">\n          <a-select v-model=\"form.commandId\" placeholder=\"请选择命令\" @change=\"handleChange()\">\n            <a-select-option v-for=\"(item, index) in commandList\" :value=\"item.value\" :key=\"index\">\n              {{item.label}}\n            </a-select-option>\n          </a-select>\n        </a-form-model-item>\n        <a-form-model-item :label=\"item.key\" v-for=\"(item, index) in paramsArr\" :key=\"index\" v-if=\"isParams\">\n           <a-input v-model=\"item.value\" placeholder=\"请输入参数\"></a-input>\n        </a-form-model-item>\n      </a-form-model>\n    </a-modal>\n  </div>\n</template>\n\n<script>\nconst columns = [\n  {\n    dataIndex: 'sendStatus',\n    ellipsis: true,\n    title: '状态',\n    key: 'sendStatus',\n    scopedSlots: { customRender: 'sendStatus' }\n  },\n  {\n    dataIndex: 'commandLabel',\n    title: '命令名称',\n    ellipsis: true,\n    key: 'commandLabel'\n  },\n  {\n    title: '命令ID',\n    ellipsis: true,\n    dataIndex: 'commandId',\n    key: 'commandId'\n  },\n  {\n    title: '命令创建时间',\n    ellipsis: true,\n    dataIndex: 'createTime',\n    key: 'createTime'\n  },\n  {\n    title: '平台发送时间',\n    ellipsis: true,\n    dataIndex: 'ts',\n    key: 'ts'\n  },\n  {\n    title: '送达时间',\n    ellipsis: true,\n    key: 'respTs',\n    dataIndex: 'respTs'\n  }\n]\nexport default {\n  name: 'equipmentList',\n  props: ['deviceId', 'productId'],\n  data () {\n    return {\n      data: [],\n      columns,\n      searchObj: {\n        commandLabel: ''\n      },\n      sendStatusRrr: [\n        {\n          value: 'FAIL',\n          label: '失败'\n        },\n        {\n          value: 'SEND',\n          label: '已发送'\n        },\n        {\n          value: 'SEND_ARRIVE',\n          label: '发送到达'\n        },\n        {\n          value: 'SUCCESS',\n          label: '成功'\n        }\n      ],\n      pagination: {\n        showLessItems: true,\n        pageSizeOptions: ['10', '20', '30'],\n        showSizeChanger: true,\n        pageSize: 10,\n        current: 1,\n        hideOnSinglePage: false,\n        total: 0\n      },\n      commandList: [],\n      visible: false,\n      labelCol: {span: 4},\n      wrapperCol: {span: 20},\n      form: {\n        deviceId: '',\n        commandId: undefined,\n        params: {}\n      },\n      isParams: false,\n      paramsArr: [],\n      commandDataArr: [],\n      rules: {\n        commandId: [\n          { required: true, message: '请选择命令', trigger: ['blur', 'change'] }\n        ]\n      }\n    }\n  },\n  created() {\n    console.log('产品ID', this.productId)\n    this.getList()\n  },\n  methods: {\n    /**\n     * 切换分页\n     * */\n    tableChange(pagination) {\n      this.pagination.pageSize = pagination.pageSize\n      this.pagination.current = pagination.current\n      this.pagination.total = pagination.total\n      this.getList()\n    },\n    /**\n     * 获取命令列表\n     * */\n    getList() {\n      const pageOption = {\n        commandId: '',\n        commandLabel: this.searchObj.commandLabel,\n        deviceId: this.deviceId,\n        page: this.pagination.current,\n        pageSize: this.pagination.pageSize\n      }\n      this.$api.getDeviceCommandPage(pageOption).then(res => {\n        const resData = res.data\n        console.log('设备命令数据', res)\n        this.pagination.total = resData.total\n        this.pagination.pageSize = resData.size\n        this.pagination.current = resData.current\n        const resRecords = resData.records\n        resRecords.map(item => {\n          Object.assign(item, {\n            createTime: this.$getDate({timestamp: item.createTime}),\n            ts: this.$getDate({timestamp: item.ts}),\n            respTs: this.$getDate({timestamp: item.respTs})\n          })\n        })\n        this.data = resRecords\n      })\n    },\n    /**\n     * 获取当前设备所属产品的命令列表\n     * */\n    getProductCommand() {\n      this.$api.getProductInfo(this.productId).then(res => {\n        const productCommand = res.data.models\n        this.commandDataArr = productCommand\n        console.log('设备产品', res)\n        if (productCommand.length > 0) {\n          productCommand.map(item => {\n            item.commands.map(commandItem => {\n              let commandObj = {}\n              Object.assign(commandObj, {\n                value: commandItem.id,\n                label: `${item.modelLabel} : ${commandItem.commandLabel}`,\n                commandLabel: commandItem.commandLabel,\n                modelId: item.id\n              })\n              this.commandList.push(commandObj)\n              console.log('命令列表', this.commandList)\n            })\n          })\n        }\n      })\n    },\n    /**\n     * 选择框\n     * */\n    handleChange(val) {\n      console.log('6333', this.commandList)\n      console.log('form.commanid', this.form.commandId)\n      this.paramsArr = []\n      let commandArr = []\n      let paramDataArr = []\n      this.commandDataArr.map(modelItem => {\n        this.commandList.map(item => {\n          if (modelItem.id === item.modelId) {\n            commandArr = modelItem.commands\n            console.log('命令', commandArr)\n            commandArr.map(commandItem => {\n              if (this.form.commandId === commandItem.id) {\n                paramDataArr = commandItem.params\n                this.isParams = true\n                console.log('属性', paramDataArr)\n              }\n            })\n          }\n        })\n      })\n      paramDataArr.map(commandItem => {\n        let params = {}\n        Object.assign(params, {\n          key: commandItem.paramLabel,\n          value: ''\n        })\n        this.paramsArr.push(params)\n        console.log('ddd', this.paramsArr)\n      })\n    },\n    showModal() {\n      this.visible = true\n      this.form = {}\n      this.commandList = []\n      this.paramsArr = []\n      this.getProductCommand()\n    },\n    handleOk() {\n      this.form.deviceId = this.deviceId\n      let obj = {}\n      this.paramsArr.map(items => {\n        obj[items.key] = items.value\n        console.log('键值对', obj)\n      })\n      this.form.params = obj\n      console.log('提交的表单', this.form)\n      this.$refs.ruleForm.validate(valid => {\n        if (valid) {\n          this.$api.sendDeviceCommand(this.form).then(res => {\n            this.visible = false\n            this.getList()\n          })\n        }\n      })\n    },\n    closeHandle() {\n      this.visible = false\n      this.$refs['ruleForm'].resetFields()\n    },\n    onSearch() {\n      this.getList()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.command-content {\n  margin: 10px 0;\n  .command-title {\n    margin-bottom: 24px;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/equipment/Details/Command/commandTable.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"command-content\"},[_c('div',{staticClass:\"command-title\"},[_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.showModal}},[_vm._v(\"命令下发\")]),_vm._v(\" \"),_c('a-input-search',{staticStyle:{\"width\":\"200px\",\"margin\":\"0 20px\"},attrs:{\"allowClear\":\"\",\"placeholder\":\"请输入命令名称搜索\"},on:{\"blur\":_vm.onSearch,\"search\":_vm.onSearch},model:{value:(_vm.searchObj.commandLabel),callback:function ($$v) {_vm.$set(_vm.searchObj, \"commandLabel\", $$v)},expression:\"searchObj.commandLabel\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"table-box\"},[_c('a-table',{attrs:{\"columns\":_vm.columns,\"rowKey\":function (record, index) {return index},\"pagination\":_vm.pagination,\"data-source\":_vm.data},on:{\"change\":_vm.tableChange},scopedSlots:_vm._u([{key:\"name\",fn:function(text){return _c('span',{},[_vm._v(_vm._s(text))])}},{key:\"sendStatus\",fn:function(text){return _c('span',{},_vm._l((_vm.sendStatusRrr),function(item,index){return (item.value === text)?_c('span',{key:index},[_vm._v(_vm._s(item.label))]):_vm._e()}),0)}}])})],1)]),_vm._v(\" \"),_c('a-modal',{attrs:{\"width\":700,\"title\":\"下发命令\"},on:{\"ok\":_vm.handleOk,\"cancel\":_vm.closeHandle},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('a-form-model',{ref:\"ruleForm\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-col\":_vm.labelCol,\"wrapper-col\":_vm.wrapperCol}},[_c('a-form-model-item',{attrs:{\"label\":\"选择命令\",\"prop\":\"commandId\"}},[_c('a-select',{attrs:{\"placeholder\":\"请选择命令\"},on:{\"change\":function($event){return _vm.handleChange()}},model:{value:(_vm.form.commandId),callback:function ($$v) {_vm.$set(_vm.form, \"commandId\", $$v)},expression:\"form.commandId\"}},_vm._l((_vm.commandList),function(item,index){return _c('a-select-option',{key:index,attrs:{\"value\":item.value}},[_vm._v(\"\\n            \"+_vm._s(item.label)+\"\\n          \")])}),1)],1),_vm._v(\" \"),_vm._l((_vm.paramsArr),function(item,index){return (_vm.isParams)?_c('a-form-model-item',{key:index,attrs:{\"label\":item.key}},[_c('a-input',{attrs:{\"placeholder\":\"请输入参数\"},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}})],1):_vm._e()})],2)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-bc21e27a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/equipment/Details/Command/commandTable.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-bc21e27a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./commandTable.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./commandTable.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./commandTable.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bc21e27a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./commandTable.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-bc21e27a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/equipment/Details/Command/commandTable.vue\n// module id = null\n// module chunks = ","<template>\n<div>\n  <div class=\"command-content\">\n    <div class=\"command-ays\">\n      <div class=\"ays-title\">\n       <span>历史命令下发</span>\n      </div>\n     <div class=\"ays-content\">\n       <commandTable :deviceId=\"deviceId\" :productId=\"productId\"></commandTable>\n     </div>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport commandTable from './commandTable'\nexport default {\n  name: 'commandAsy',\n  props: ['deviceId', 'productId'],\n  components: {\n    commandTable\n  },\n  methods: {\n    callback() {}\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.command-content {\n  margin-top: 20px;\n  .command-ays {\n    .ays-title{\n      font-size: 20px;\n      font-weight: 700;\n      display: flex;\n      justify-content: space-between;\n    }\n  }\n  .ays-content {\n    margin-top: 15px;\n  }\n}\n>>> .ant-tabs-bar {\n  border-bottom: 1px solid #e8e8e8;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/equipment/Details/Command/commandAsy.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"command-content\"},[_c('div',{staticClass:\"command-ays\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"ays-content\"},[_c('commandTable',{attrs:{\"deviceId\":_vm.deviceId,\"productId\":_vm.productId}})],1)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ays-title\"},[_c('span',[_vm._v(\"历史命令下发\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-77be4b2f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/equipment/Details/Command/commandAsy.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-77be4b2f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./commandAsy.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./commandAsy.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./commandAsy.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-77be4b2f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./commandAsy.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-77be4b2f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/equipment/Details/Command/commandAsy.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <div class=\"command-content\">\n      <div class=\"shadow-title\">\n        <p>设备接入服务为每个设备添加“设备影子”，用于访问和控制设备的属性值。它通过可靠的数据存储能力，无论设备在线或者离线，您都能查询和更改设备的属性。</p>\n        <p> 当设备离线时，“设备影子”将显示设备最近一次上报的属性值；通过下发“期望值”，“设备影子”将存储对设备属性的预期控制，当设备重新连接时，服务将“期望值”更新至设备。</p>\n      </div>\n      <div class=\"command-title\">\n        <a-input-search allowClear @blur=\"onSearch\" v-model=\"searchObj.name\" @search=\"onSearch\" style=\"width: 200px;\" placeholder=\"请输入设备名称搜索\" />\n      </div>\n      <div class=\"table-box\">\n        <a-table :columns=\"columnsList\"\n                 :rowKey=\"(record, index) => {return index}\"\n                 :pagination=\"false\"\n                 :data-source=\"data\">\n          <span slot=\"modelLabel\" slot-scope=\"text\">{{text}}</span>\n          <span slot=\"scope\" slot-scope=\"text\">\n            <span v-if=\"text === 'R'\">可读</span>\n            <span v-if=\"text === 'W'\">可写</span>\n            <span v-if=\"text === 'RW'\">可读可写</span>\n          </span>\n        </a-table>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nfunction cumputdRowSpan (idx, dataIndex, arr) {\n  let firstIdx = idx // 原下标\n  let index = idx // 递增下标\n  let number = 0\n  do {\n    number += 1\n    index += 1\n  } while (!!arr[index] && arr[index][dataIndex] === arr[firstIdx][dataIndex]) // 当不存在下一个元素或者已经与当前数据不相同不能进行合并时跳出循环\n  return number// 返回需要向下合并的数量\n}\nconst columns = [\n  {\n    dataIndex: 'modelLabel',\n    title: '模型',\n    ellipsis: true,\n    key: 'modelLabel',\n    scopedSlots: {customRender: 'modelLabel'}\n  },\n  {\n    dataIndex: 'propertyLabel',\n    title: '属性名称',\n    ellipsis: true,\n    key: 'propertyLabel'\n  },\n  {\n    title: '访问方式',\n    ellipsis: true,\n    dataIndex: 'scope',\n    key: 'scope',\n    scopedSlots: { customRender: 'scope' }\n  },\n  {\n    title: '上报值',\n    ellipsis: true,\n    dataIndex: 'propertyValue',\n    key: 'propertyValue'\n  }\n]\nexport default {\n  name: 'equipmentShadow',\n  props: ['deviceId'],\n  data () {\n    return {\n      data: [],\n      columns,\n      searchObj: {},\n      customRenderList: ['modelLabel'],\n      pagination: {\n        showLessItems: true,\n        pageSizeOptions: ['10', '20', '30'],\n        showSizeChanger: true,\n        pageSize: 10,\n        current: 1,\n        hideOnSinglePage: false,\n        total: 0\n      },\n      visible: false\n    }\n  },\n  created() {\n    this.getList()\n  },\n  computed: {\n    columnsList: function () {\n      // 计算需要进行合并的表头，对符合customRenderList数组元素的属性添加customRender进行合并计算\n      let filderList = this.customRenderList\n      return this.columns.map((ele) => {\n        if (filderList.includes(ele.dataIndex)) {\n          return {\n            ...ele,\n            customRender: this.renderContent(ele.dataIndex) // 当识别到这一项是需要进行合并的项时，传入customRender方法\n          }\n        } else {\n          return {\n            ...ele\n          }\n        }\n      })\n    },\n    customGoal: function () {\n      // 设置一个obj对象动态存储需要静态记录的属性，每一个dataIndex独立一个动态的记忆区域\n      let obj = {}\n      this.customRenderList.forEach((key) => {\n        obj[key] = {\n          value: null,\n          index: null,\n          rowSpanNumber: null\n        }\n      })\n      return obj\n    }\n  },\n  methods: {\n    renderContent (name) {\n      // 动态计算函数，根据传入的dataIndex唯一标识进行计算\n      let dataIndex = name\n      // 存储this，不会修改this指向\n      let that = this\n      return (value, row, index) => {\n        // 官方例子\n        const obj = {\n          children: value,\n          attrs: {}\n        }\n        let interspace = this.customGoal[dataIndex]\n        if (value !== interspace.value) {\n          // 当前value如果和空间内存放的value不相同时，则不继续向下合并单元格，重置当前计算空间，并计算需要向下合并多少单元格\n          // 传入参数计算需要向下合并多少个单元格\n          let number = cumputdRowSpan(index, dataIndex, that.data)\n          interspace['value'] = value\n          interspace['index'] = index\n          interspace['rowSpanNumber'] = number\n          obj.attrs.rowSpan = number\n        } else {\n          // 当value与计算空间value相同时则认为当前单元格需要被隐藏 obj.attrs.rowSpan = 0;\n          obj.attrs.rowSpan = 0\n        }\n        return obj\n      }\n    },\n    getList() {\n      const obj = {\n        deviceId: this.deviceId\n      }\n      this.$api.getDeviceShadowList(obj).then(res => {\n        console.log('设备影子', res)\n        this.data = res.data\n      })\n    },\n    showModal() {\n      this.visible = true\n    },\n    handleOk(e) {\n      this.visible = false\n    },\n    onSearch() {}\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.command-content {\n   margin-top: 20px;\n  .shadow-title {\n    color: #8A8E99;\n    font-size: .75rem;\n    margin-bottom: 15px;\n    p {\n      margin: 0;\n      padding: 0;\n    }\n  }\n  .command-title {\n    margin-bottom: 24px;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/equipment/Details/EquipmentShadow/equipmentShadow.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"command-content\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"command-title\"},[_c('a-input-search',{staticStyle:{\"width\":\"200px\"},attrs:{\"allowClear\":\"\",\"placeholder\":\"请输入设备名称搜索\"},on:{\"blur\":_vm.onSearch,\"search\":_vm.onSearch},model:{value:(_vm.searchObj.name),callback:function ($$v) {_vm.$set(_vm.searchObj, \"name\", $$v)},expression:\"searchObj.name\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"table-box\"},[_c('a-table',{attrs:{\"columns\":_vm.columnsList,\"rowKey\":function (record, index) {return index},\"pagination\":false,\"data-source\":_vm.data},scopedSlots:_vm._u([{key:\"modelLabel\",fn:function(text){return _c('span',{},[_vm._v(_vm._s(text))])}},{key:\"scope\",fn:function(text){return _c('span',{},[(text === 'R')?_c('span',[_vm._v(\"可读\")]):_vm._e(),_vm._v(\" \"),(text === 'W')?_c('span',[_vm._v(\"可写\")]):_vm._e(),_vm._v(\" \"),(text === 'RW')?_c('span',[_vm._v(\"可读可写\")]):_vm._e()])}}])})],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"shadow-title\"},[_c('p',[_vm._v(\"设备接入服务为每个设备添加“设备影子”，用于访问和控制设备的属性值。它通过可靠的数据存储能力，无论设备在线或者离线，您都能查询和更改设备的属性。\")]),_vm._v(\" \"),_c('p',[_vm._v(\" 当设备离线时，“设备影子”将显示设备最近一次上报的属性值；通过下发“期望值”，“设备影子”将存储对设备属性的预期控制，当设备重新连接时，服务将“期望值”更新至设备。\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-221c9803\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/equipment/Details/EquipmentShadow/equipmentShadow.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-221c9803\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./equipmentShadow.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./equipmentShadow.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./equipmentShadow.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-221c9803\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./equipmentShadow.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-221c9803\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/equipment/Details/EquipmentShadow/equipmentShadow.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <div class=\"command-content\">\n      <div class=\"shadow-title\">\n        <p>消息跟踪可记录设备在运行过程中的各类操作信息，状态和结果。当数据上报、响应命令等业务场景中出现故障时，消息跟踪功能可帮助您快速进行故障定位和原因分析。</p>\n        <p>为避免占用读写计算、存储资源，同时保证数据有效，平台限制最长可跟踪3天的数据，且单个用户下，仅支持同时启动10个设备的消息跟踪。</p>\n      </div>\n        <div class=\"info-box\" v-if=\"isData\">\n          <div>\n            <a-icon type=\"message\" theme=\"filled\" style=\"color: #1067EE; width: 14px;height: 13px;\"/>\n            <span style=\"margin-left: 15px;\">\n               跟踪类型\n            </span>\n\n            <span style=\"margin-left: 15px\">执行情况\n              <span style=\"color: #C91521\" v-if=\"isStop\">[停止]</span>\n              <span style=\"color: #0456de\" v-else>[运行中]</span>\n            </span>\n            <span style=\"margin-left: 36px;\">预计最晚结束时间：<span>{{lastTime}}</span> </span>\n          </div>\n          <div>\n            <a-button type=\"primary\" icon=\"play-circle\" :disabled=\"disabled\" @click=\"stopMessage\">停止</a-button>\n            <a-button type=\"danger\" ghost icon=\"delete\" style=\"margin-left: 10px;\" @click=\"clearMessage\">清除数据</a-button>\n          </div>\n        </div>\n      <div class=\"command-title\">\n        <a-button :disabled=\"isBtnData\" type=\"primary\" @click=\"showModal\">启动消息跟踪</a-button>\n        <a-select\n          v-if=\"isData\"\n          v-model=\"searchObj.messageStatus\"\n          placeholder=\"请选择或搜索产品\"\n          @search=\"onSearch\"\n          style=\"width: 200px; margin: 0 20px\"\n        >\n          <a-select-option value=\"\">\n            所有状态\n          </a-select-option>\n          <a-select-option :value=true>\n            成功\n          </a-select-option>\n          <a-select-option :value=false>\n            失败\n          </a-select-option>\n        </a-select>\n      </div>\n      <div class=\"table-box\" v-if=\"isData\">\n        <a-table :columns=\"columns\"\n                 :rowKey=\"(record, index) => {return index}\"\n                 :pagination=false\n                 :data-source=\"data\">\n          <span slot=\"businessType\" slot-scope=\"text\">\n            <span v-for=\"(item, index) in typeArr\" :key=\"index\" v-if=\"item.value === text\">{{item.label}}</span>\n          </span>\n          <span slot=\"businessStep\" slot-scope=\"text\">\n            <span v-for=\"(item, index) in stepArr\" :key=\"index\" v-if=\"item.value === text\">{{item.label}}</span>\n          </span>\n          <span slot=\"messageStatus\" slot-scope=\"text\">\n            <span v-if=\"text\">\n              成功\n            </span>\n            <span v-else>失败</span>\n          </span>\n          <span slot=\"action\" slot-scope=\"text, record\">\n            <span class=\"table-btn\" @click=\"messageDetail(record)\">查看</span>\n          </span>\n        </a-table>\n      </div>\n    </div>\n    <a-modal v-model=\"visible\" :width=\"600\" title=\"启动消息跟踪\" @ok=\"handleOk\" @cancel=\"closeHandle\">\n      <div class=\"form-info\">\n        <span>\n          <a-icon type=\"info-circle\" style=\"color: #5e7ce0; margin-right: 10px;\"/>\n          <span>再次启动消息跟踪，将会清除上次消息跟踪的历史数据，请确认是否启动消息跟踪？</span>\n        </span>\n      </div>\n      <a-form-model\n        ref=\"ruleForm\"\n        :model=\"form\"\n        :rules=\"rules\"\n        :label-col=\"labelCol\"\n        :wrapper-col=\"wrapperCol\"\n      >\n        <a-form-model-item ref=\"dates\" label=\"消息跟踪时长\" prop=\"dates\">\n          <div class=\"form-flex\">\n            <div>\n              <a-input-number v-model=\"form.dates\" id=\"dates\" :min=\"0\" />\n              <span class=\"form-span\">天</span>\n            </div>\n\n            <div>\n              <a-input-number v-model=\"form.hours\" id=\"hours\" :min=\"0\" />\n              <span class=\"form-span\">小时</span>\n            </div>\n            <div>\n              <a-input-number v-model=\"form.minutes\" id=\"minutes\" :min=\"0\" />\n              <span class=\"form-span\">分钟</span>\n            </div>\n          </div>\n\n        </a-form-model-item>\n      </a-form-model>\n    </a-modal>\n    <a-modal v-model=\"devVisible\" :width=\"600\" title=\"消息详情\" @ok=\"devhandleOk\">\n     <div class=\"messaga-box\">\n            <p v-for=\"(item, index) in stepArr\" :key=\"index\" v-if=\"item.value === devObj.businessStep\">{{item.label}}</p>\n       {{devObj.businessDetails}}\n     </div>\n    </a-modal>\n  </div>\n</template>\n\n<script>\nconst columns = [\n  {\n    dataIndex: 'businessType',\n    ellipsis: true,\n    title: '业务类型',\n    key: 'businessType',\n    scopedSlots: { customRender: 'businessType' }\n  },\n  {\n    dataIndex: 'businessStep',\n    ellipsis: true,\n    title: '业务步骤',\n    key: 'businessStep',\n    scopedSlots: { customRender: 'businessStep' }\n  },\n  {\n    title: '业务详情',\n    ellipsis: true,\n    dataIndex: 'businessDetails',\n    key: 'businessDetails'\n  },\n  {\n    title: '记录时间',\n    ellipsis: true,\n    dataIndex: 'createTime',\n    key: 'createTime'\n  },\n  {\n    title: '消息状态',\n    ellipsis: true,\n    dataIndex: 'messageStatus',\n    key: 'messageStatus',\n    scopedSlots: { customRender: 'messageStatus' }\n  },\n  {\n    title: '操作',\n    key: 'action',\n    scopedSlots: { customRender: 'action' }\n  }\n]\nexport default {\n  name: 'messageTrack',\n  props: ['deviceId'],\n  data () {\n    return {\n      data: [],\n      columns,\n      searchObj: {\n        messageStatus: ''\n      },\n      stepArr: [\n        {\n          value: 'DEVICE_REPORT_DATA',\n          label: '设备上报数据'\n        },\n        {\n          value: 'PLATFORM_RESOLVING_DATA',\n          label: '平台解析数据'\n        },\n        {\n          value: 'PLATFORM_RESOLVING_DATA_ERROR,',\n          label: '平台解析数据错误'\n        },\n        {\n          value: 'MATCH_MODEL',\n          label: '匹配物模型'\n        },\n        {\n          value: 'PLATFORM_SEND_COMMAND',\n          label: '平台发送命令'\n        },\n        {\n          value: 'PLATFORM_SEND_DATA2MQ',\n          label: '平台发送数据到消息队列'\n        }\n      ],\n      typeArr: [\n        {\n          value: 'DEVICE2PLATFORM',\n          label: '设备到平台'\n        },\n        {\n          value: 'PLATFORM2DEVICE',\n          label: '平台到设备'\n        },\n        {\n          value: 'PLATFORM_FORWARD',\n          label: '平台转发'\n        }\n      ],\n      lastTime: '',\n      visible: false,\n      labelCol: {span: 6},\n      wrapperCol: {span: 18},\n      other: '',\n      form: {\n        dates: 0,\n        hours: 0,\n        minutes: 30\n      },\n      rules: {\n        dates: [\n          { required: true, message: '请输入', trigger: 'blur' }\n        ]\n      },\n      isData: false,\n      isStop: false,\n      disabled: false,\n      timer: null,\n      devVisible: false,\n      devObj: {},\n      times: 0,\n      isBtnData: false\n    }\n  },\n  methods: {\n    /**\n     * 消息追踪列表\n     * */\n    getList() {\n      const obj = {\n        ttl: '',\n        messageStatus: this.searchObj.messageStatus,\n        businessType: '',\n        debugDevice: false\n      }\n      this.$api.getDeviceMessage(this.deviceId, obj).then(res => {\n        console.log('黑色版', res)\n        res.data.map(item => {\n          Object.assign(item, {\n            createTime: this.$getDate({timestamp: item.createTime})\n          })\n        })\n        this.data = res.data\n      })\n    },\n    /**\n     * 轮询消息追踪\n     * */\n    getInter() {\n      this.timer = setInterval(() => {\n        this.getList()\n      }, 5000)\n      this.$once('hook:beforeDestroy', () => {\n        clearInterval(this.timer)\n        this.timer = null\n      })\n    },\n    /**\n     *  消息最晚时间\n     * */\n    getTimes() {\n      this.$api.getDeviceMessageTime(this.deviceId).then(res => {\n        this.lastTime = this.$getDate({timestamp: res.data})\n      })\n    },\n    /**\n     * 数据删除\n     * */\n    deleteMeaasge() {\n      clearInterval(this.timer)\n      this.timer = null\n      this.$api.deleteDeviceMessageData(this.deviceId).then(res => {\n        this.isStop = true\n        this.disabled = true\n        this.isBtnData = false\n        console.log('删除消息数据', res)\n      })\n    },\n    stopMessage() {\n      this.deleteMeaasge()\n    },\n    /**\n     * 清除消息日志\n     * */\n    clearMessage() {\n      // this.isStop = true\n      // this.disabled = true\n      this.data = []\n      this.$api.deleteDataLog(this.deviceId).then(res => {\n        this.getList()\n      })\n    },\n    showModal() {\n      this.visible = true\n      // this.isStop = false\n      this.disabled = false\n    },\n    handleOk() {\n      const seconds = 60\n      this.times = this.form.dates * seconds * seconds + this.form.hours * seconds + this.form.minutes * 60\n      let obj = {\n        deviceId: this.deviceId,\n        ttl: this.times\n      }\n      this.$api.postDeviceMessage(obj).then(res => {\n        this.visible = false\n        this.isData = true\n        this.isBtnData = true\n        this.isStop = false\n        this.getList()\n        this.getTimes()\n        this.getInter()\n      })\n    },\n    closeHandle() {\n      this.visible = false\n      this.$refs['ruleForm'].resetFields()\n    },\n    onSearch() {\n      this.getList()\n    },\n    /**\n     * 查看详情\n     * */\n    messageDetail(val) {\n      this.devVisible = true\n      this.devObj = val\n    },\n    devhandleOk() {\n      this.devVisible = false\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.command-content {\n  margin-top: 20px;\n  .shadow-title {\n    color: #8A8E99;\n    font-size: .75rem;\n    margin-bottom: 15px;\n    p {\n      margin: 0;\n      padding: 0;\n    }\n  }\n  .command-title {\n    margin-bottom: 24px;\n  }\n}\n.form-flex {\n  display: flex;\n  .form-span {\n    padding: 0 10px;\n  }\n}\n.form-info {\n  width: 100%;\n  background: #ebf6ff;\n  border: 1px solid #beccfa;\n  padding: 10px 24px;\n  margin-bottom: 15px;\n}\n.info-box {\n  display: flex;\n  margin-bottom: 15px;\n  justify-content: space-between;\n  height: 48px;\n  background: rgba(16,103,238,0.08);\n  border: 1px solid #1067ee;\n  border-radius: 4px;\n  padding: 0 15px;\n  color: #333333;\n  font-size: 14px;\n  line-height: 48px;\n}\n.messaga-box {\n  word-wrap:break-word;\n  word-break:normal;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/equipment/Details/MessageTrack/messageTrack.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"command-content\"},[_vm._m(0),_vm._v(\" \"),(_vm.isData)?_c('div',{staticClass:\"info-box\"},[_c('div',[_c('a-icon',{staticStyle:{\"color\":\"#1067EE\",\"width\":\"14px\",\"height\":\"13px\"},attrs:{\"type\":\"message\",\"theme\":\"filled\"}}),_vm._v(\" \"),_c('span',{staticStyle:{\"margin-left\":\"15px\"}},[_vm._v(\"\\n             跟踪类型\\n          \")]),_vm._v(\" \"),_c('span',{staticStyle:{\"margin-left\":\"15px\"}},[_vm._v(\"执行情况\\n            \"),(_vm.isStop)?_c('span',{staticStyle:{\"color\":\"#C91521\"}},[_vm._v(\"[停止]\")]):_c('span',{staticStyle:{\"color\":\"#0456de\"}},[_vm._v(\"[运行中]\")])]),_vm._v(\" \"),_c('span',{staticStyle:{\"margin-left\":\"36px\"}},[_vm._v(\"预计最晚结束时间：\"),_c('span',[_vm._v(_vm._s(_vm.lastTime))])])],1),_vm._v(\" \"),_c('div',[_c('a-button',{attrs:{\"type\":\"primary\",\"icon\":\"play-circle\",\"disabled\":_vm.disabled},on:{\"click\":_vm.stopMessage}},[_vm._v(\"停止\")]),_vm._v(\" \"),_c('a-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"danger\",\"ghost\":\"\",\"icon\":\"delete\"},on:{\"click\":_vm.clearMessage}},[_vm._v(\"清除数据\")])],1)]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"command-title\"},[_c('a-button',{attrs:{\"disabled\":_vm.isBtnData,\"type\":\"primary\"},on:{\"click\":_vm.showModal}},[_vm._v(\"启动消息跟踪\")]),_vm._v(\" \"),(_vm.isData)?_c('a-select',{staticStyle:{\"width\":\"200px\",\"margin\":\"0 20px\"},attrs:{\"placeholder\":\"请选择或搜索产品\"},on:{\"search\":_vm.onSearch},model:{value:(_vm.searchObj.messageStatus),callback:function ($$v) {_vm.$set(_vm.searchObj, \"messageStatus\", $$v)},expression:\"searchObj.messageStatus\"}},[_c('a-select-option',{attrs:{\"value\":\"\"}},[_vm._v(\"\\n          所有状态\\n        \")]),_vm._v(\" \"),_c('a-select-option',{attrs:{\"value\":true}},[_vm._v(\"\\n          成功\\n        \")]),_vm._v(\" \"),_c('a-select-option',{attrs:{\"value\":false}},[_vm._v(\"\\n          失败\\n        \")])],1):_vm._e()],1),_vm._v(\" \"),(_vm.isData)?_c('div',{staticClass:\"table-box\"},[_c('a-table',{attrs:{\"columns\":_vm.columns,\"rowKey\":function (record, index) {return index},\"pagination\":false,\"data-source\":_vm.data},scopedSlots:_vm._u([{key:\"businessType\",fn:function(text){return _c('span',{},_vm._l((_vm.typeArr),function(item,index){return (item.value === text)?_c('span',{key:index},[_vm._v(_vm._s(item.label))]):_vm._e()}),0)}},{key:\"businessStep\",fn:function(text){return _c('span',{},_vm._l((_vm.stepArr),function(item,index){return (item.value === text)?_c('span',{key:index},[_vm._v(_vm._s(item.label))]):_vm._e()}),0)}},{key:\"messageStatus\",fn:function(text){return _c('span',{},[(text)?_c('span',[_vm._v(\"\\n            成功\\n          \")]):_c('span',[_vm._v(\"失败\")])])}},{key:\"action\",fn:function(text, record){return _c('span',{},[_c('span',{staticClass:\"table-btn\",on:{\"click\":function($event){return _vm.messageDetail(record)}}},[_vm._v(\"查看\")])])}}],null,false,909517423)})],1):_vm._e()]),_vm._v(\" \"),_c('a-modal',{attrs:{\"width\":600,\"title\":\"启动消息跟踪\"},on:{\"ok\":_vm.handleOk,\"cancel\":_vm.closeHandle},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('div',{staticClass:\"form-info\"},[_c('span',[_c('a-icon',{staticStyle:{\"color\":\"#5e7ce0\",\"margin-right\":\"10px\"},attrs:{\"type\":\"info-circle\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"再次启动消息跟踪，将会清除上次消息跟踪的历史数据，请确认是否启动消息跟踪？\")])],1)]),_vm._v(\" \"),_c('a-form-model',{ref:\"ruleForm\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-col\":_vm.labelCol,\"wrapper-col\":_vm.wrapperCol}},[_c('a-form-model-item',{ref:\"dates\",attrs:{\"label\":\"消息跟踪时长\",\"prop\":\"dates\"}},[_c('div',{staticClass:\"form-flex\"},[_c('div',[_c('a-input-number',{attrs:{\"id\":\"dates\",\"min\":0},model:{value:(_vm.form.dates),callback:function ($$v) {_vm.$set(_vm.form, \"dates\", $$v)},expression:\"form.dates\"}}),_vm._v(\" \"),_c('span',{staticClass:\"form-span\"},[_vm._v(\"天\")])],1),_vm._v(\" \"),_c('div',[_c('a-input-number',{attrs:{\"id\":\"hours\",\"min\":0},model:{value:(_vm.form.hours),callback:function ($$v) {_vm.$set(_vm.form, \"hours\", $$v)},expression:\"form.hours\"}}),_vm._v(\" \"),_c('span',{staticClass:\"form-span\"},[_vm._v(\"小时\")])],1),_vm._v(\" \"),_c('div',[_c('a-input-number',{attrs:{\"id\":\"minutes\",\"min\":0},model:{value:(_vm.form.minutes),callback:function ($$v) {_vm.$set(_vm.form, \"minutes\", $$v)},expression:\"form.minutes\"}}),_vm._v(\" \"),_c('span',{staticClass:\"form-span\"},[_vm._v(\"分钟\")])],1)])])],1)],1),_vm._v(\" \"),_c('a-modal',{attrs:{\"width\":600,\"title\":\"消息详情\"},on:{\"ok\":_vm.devhandleOk},model:{value:(_vm.devVisible),callback:function ($$v) {_vm.devVisible=$$v},expression:\"devVisible\"}},[_c('div',{staticClass:\"messaga-box\"},[_vm._l((_vm.stepArr),function(item,index){return (item.value === _vm.devObj.businessStep)?_c('p',{key:index},[_vm._v(_vm._s(item.label))]):_vm._e()}),_vm._v(\"\\n     \"+_vm._s(_vm.devObj.businessDetails)+\"\\n   \")],2)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"shadow-title\"},[_c('p',[_vm._v(\"消息跟踪可记录设备在运行过程中的各类操作信息，状态和结果。当数据上报、响应命令等业务场景中出现故障时，消息跟踪功能可帮助您快速进行故障定位和原因分析。\")]),_vm._v(\" \"),_c('p',[_vm._v(\"为避免占用读写计算、存储资源，同时保证数据有效，平台限制最长可跟踪3天的数据，且单个用户下，仅支持同时启动10个设备的消息跟踪。\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-06d2480d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/equipment/Details/MessageTrack/messageTrack.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-06d2480d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./messageTrack.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./messageTrack.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./messageTrack.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-06d2480d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./messageTrack.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-06d2480d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/equipment/Details/MessageTrack/messageTrack.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <div class=\"command-content\">\n      <div class=\"shadow-title\">\n        <p> 呈现通过网关方式接入到IoT的设备（传感器）。子设备的状态表示子设备接入网关的状态，由网关上报到IoT平台进行状态的刷新；如果网关不能正常上报子设备的状态信息到IoT平台，则展示的子设备状态不会刷新。 </p>\n      </div>\n      <div class=\"command-title\">\n        <a-button type=\"primary\" @click=\"showModal\">添加子设备</a-button>\n      </div>\n      <div class=\"table-box\">\n        <a-table :columns=\"columns\"\n                 :rowKey=\"(record, index) => {return index}\"\n                 :pagination=\"pagination\"\n                 @change=\"tableChange\"\n                 :data-source=\"data\">\n            <span slot=\"deviceStatus\" slot-scope=\"text, record\">\n            <span v-for=\"(item, index) in stateArr\" :key=\"index\" v-if=\"item.value === text\">\n              {{item.label}}\n            </span>\n          </span>\n          <span slot=\"nodeType\" slot-scope=\"text\">\n            <span v-for=\"(item, index) in nodeArr\" :key=\"index\" v-if=\"item.value === text\">\n              {{item.label}}\n            </span>\n          </span>\n          <span slot=\"action\" slot-scope=\"text, record\">\n            <span class=\"table-btn\" @click=\"deviceDetails(record)\">查看</span>\n            <a-popconfirm\n              title=\"你确定删除此设备吗?\"\n              ok-text=\"确定\"\n              cancel-text=\"取消\"\n              @confirm=\"deleteCancel(record.id)\"\n            >\n         <span class=\"table-btn\"> 删除 </span>\n  </a-popconfirm>\n          </span>\n        </a-table>\n      </div>\n    </div>\n    <a-modal v-model=\"visible\" :width=\"600\" title=\"添加子设备\" @ok=\"handleOk\" @cancel=\"closeHandle\">\n      <a-form-model\n        ref=\"ruleForm\"\n        :model=\"form\"\n        :rules=\"rules\"\n        :label-col=\"labelCol\"\n        :wrapper-col=\"wrapperCol\"\n      >\n        <a-form-model-item label=\"所属产品\" prop=\"productId\">\n          <a-select\n            v-model=\"form.productId\"\n            show-search\n            placeholder=\"请选择或搜索产品\"\n            option-filter-prop=\"children\"\n            @search=\"productSearch\"\n          >\n            <a-select-option v-for=\"(item, index) in productArr\" :value=\"item.id\" :key=\"index\">\n              {{item.productLabel}}\n            </a-select-option>\n          </a-select>\n        </a-form-model-item>\n        <a-form-model-item ref=\"deviceLabel\" label=\"设备名称\">\n          <a-input v-model=\"form.deviceLabel\" placeholder=\"请输入设备名称\"/>\n        </a-form-model-item>\n        <a-form-model-item ref=\"deviceCode\" label=\"设备标识码\" prop=\"deviceCode\">\n          <a-input v-model=\"form.deviceCode\" placeholder=\"请输入设备标识码\"/>\n        </a-form-model-item>\n      </a-form-model>\n    </a-modal>\n    <a-modal v-model=\"devVisible\" :width=\"600\" title=\"设备详情\" @ok=\"DevHandleOk\">\n      <a-descriptions :title=\"devObj.deviceLabel\" bordered :column=\"2\">\n        <a-descriptions-item label=\"状态\">\n            <span v-for=\"(item, index) in stateArr\" :key=\"index\" v-if=\"item.value === devObj.deviceStatus\">\n              {{item.label}}\n            </span>\n        </a-descriptions-item>\n        <a-descriptions-item label=\"设备标识码\">\n          {{devObj.deviceCode}}\n        </a-descriptions-item>\n        <a-descriptions-item label=\"所属产品\">\n          {{devObj.productLabel}}\n        </a-descriptions-item>\n        <a-descriptions-item label=\"节点类型\">\n           <span v-for=\"(item, index) in nodeArr\" :key=\"index\" v-if=\"item.value === devObj.nodeType\">\n              {{item.label}}\n            </span>\n        </a-descriptions-item>\n<!--        <a-descriptions-item label=\"描述\">-->\n<!--          {{devObj.description}}-->\n<!--        </a-descriptions-item>-->\n      </a-descriptions>\n    </a-modal>\n  </div>\n</template>\n\n<script>\nconst columns = [\n  {\n    dataIndex: 'deviceStatus',\n    title: '状态',\n    key: 'deviceStatus',\n    ellipsis: true,\n    scopedSlots: {customRender: 'deviceStatus'}\n  },\n  {\n    dataIndex: 'deviceLabel',\n    title: '设备名称',\n    ellipsis: true,\n    key: 'deviceLabel'\n  },\n  {\n    title: '设备标识码',\n    ellipsis: true,\n    dataIndex: 'deviceCode',\n    key: 'deviceCode'\n  },\n  {\n    title: '所属产品',\n    ellipsis: true,\n    dataIndex: 'productLabel',\n    key: 'productLabel'\n  },\n  {\n    title: '节点类型',\n    ellipsis: true,\n    dataIndex: 'nodeType',\n    key: 'nodeType',\n    scopedSlots: {customRender: 'nodeType'}\n  },\n  // {\n  //   title: '描述',\n  //   dataIndex: 'description',\n  //   key: 'description'\n  // },\n  {\n    title: '操作',\n    key: 'action',\n    scopedSlots: { customRender: 'action' }\n  }\n]\n\nexport default {\n  name: 'childDevice',\n  props: ['deviceId'],\n  data () {\n    return {\n      data: [],\n      columns,\n      searchObj: {},\n      stateArr: [\n        {\n          value: 'ONLINE',\n          label: '在线'\n        },\n        {\n          value: 'WARN',\n          label: '报警'\n        },\n        {\n          value: 'INACTIVE',\n          label: '未激活'\n        },\n        {\n          value: 'OFFLINE',\n          label: '离线'\n        }\n      ],\n      nodeArr: [\n        {\n          value: 'GATEWAY',\n          label: '直连设备'\n        },\n        {\n          value: 'ENDPOINT',\n          label: '网关子设备'\n        }\n      ],\n      pagination: {\n        showLessItems: true,\n        pageSizeOptions: ['10', '20', '30'],\n        showSizeChanger: true,\n        pageSize: 10,\n        current: 1,\n        hideOnSinglePage: false,\n        total: 0\n      },\n      productArr: [],\n      visible: false,\n      labelCol: {span: 4},\n      wrapperCol: {span: 20},\n      form: {\n        deviceCode: '',\n        deviceLabel: '',\n        productId: '',\n        gatewayId: ''\n      },\n      rules: {\n        productId: [\n          { required: true, message: '请选择或搜素产品', trigger: 'blur' }\n        ],\n        deviceCode: [{ required: true, message: '请输入设备标识码', trigger: 'change' }]\n      },\n      devVisible: false,\n      devObj: {}\n    }\n  },\n  created() {\n    this.getList()\n  },\n  methods: {\n    /**\n     * 切换分页\n     * */\n    tableChange(pagination) {\n      this.pagination.pageSize = pagination.pageSize\n      this.pagination.current = pagination.current\n      this.pagination.total = pagination.total\n      this.getList()\n    },\n    /**\n     * 获取设备列表\n     * */\n    getList() {\n      const pageOption = {\n        gateWayId: this.deviceId,\n        page: this.pagination.current,\n        pageSize: this.pagination.pageSize\n      }\n      this.$api.getSubDeviceList(pageOption).then(res => {\n        const resData = res.data\n        console.log('子设备数据', res)\n        this.pagination.total = resData.total\n        this.pagination.pageSize = resData.size\n        this.pagination.current = resData.current\n        const resRecords = resData.records\n        this.data = resRecords\n      })\n    },\n    /**\n     * 删除设备\n     * */\n    deleteCancel(id) {\n      this.$api.deleteSubDevice(id).then(res => {\n        this.getList()\n      })\n    },\n    /**\n     * 产品列表\n     * */\n    getProductList() {\n      const obj = {\n        limit: '',\n        productLabel: ''\n      }\n      this.$api.getProductAllList(obj).then(res => {\n        console.log('产品列表', res)\n        this.productArr = res.data\n      })\n    },\n    productSearch(val) {\n      const obj = {\n        limit: '',\n        productLabel: val\n      }\n      this.$api.getProductAllList(obj).then(res => {\n        console.log('搜索的产品', res)\n        this.productArr = res.data\n      })\n    },\n    showModal() {\n      this.visible = true\n      this.form = {}\n      this.getProductList()\n    },\n    handleOk() {\n      this.form.gatewayId = this.deviceId\n      this.$refs.ruleForm.validate(valid => {\n        if (valid) {\n          this.$api.postSubDevice(this.form).then(res => {\n            this.visible = false\n            this.getList()\n          })\n        }\n      })\n    },\n    closeHandle() {\n      this.visible = false\n      this.$refs['ruleForm'].resetFields()\n    },\n    onSearch() {},\n    /**\n     * 查看设备详情\n     * */\n    deviceDetails(item) {\n      this.devVisible = true\n      this.devObj = item\n    },\n    DevHandleOk() {\n      this.devVisible = false\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.command-content {\n  margin-top: 20px;\n  .shadow-title {\n    color: #8A8E99;\n    font-size: .75rem;\n    margin-bottom: 15px;\n    p {\n      margin: 0;\n      padding: 0;\n    }\n  }\n  .command-title {\n    margin-bottom: 24px;\n  }\n}\n.form-flex {\n  display: flex;\n  .form-span {\n    padding: 0 10px;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/equipment/Details/ChildDevice/childDevice.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"command-content\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"command-title\"},[_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.showModal}},[_vm._v(\"添加子设备\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"table-box\"},[_c('a-table',{attrs:{\"columns\":_vm.columns,\"rowKey\":function (record, index) {return index},\"pagination\":_vm.pagination,\"data-source\":_vm.data},on:{\"change\":_vm.tableChange},scopedSlots:_vm._u([{key:\"deviceStatus\",fn:function(text, record){return _c('span',{},_vm._l((_vm.stateArr),function(item,index){return (item.value === text)?_c('span',{key:index},[_vm._v(\"\\n              \"+_vm._s(item.label)+\"\\n            \")]):_vm._e()}),0)}},{key:\"nodeType\",fn:function(text){return _c('span',{},_vm._l((_vm.nodeArr),function(item,index){return (item.value === text)?_c('span',{key:index},[_vm._v(\"\\n              \"+_vm._s(item.label)+\"\\n            \")]):_vm._e()}),0)}},{key:\"action\",fn:function(text, record){return _c('span',{},[_c('span',{staticClass:\"table-btn\",on:{\"click\":function($event){return _vm.deviceDetails(record)}}},[_vm._v(\"查看\")]),_vm._v(\" \"),_c('a-popconfirm',{attrs:{\"title\":\"你确定删除此设备吗?\",\"ok-text\":\"确定\",\"cancel-text\":\"取消\"},on:{\"confirm\":function($event){return _vm.deleteCancel(record.id)}}},[_c('span',{staticClass:\"table-btn\"},[_vm._v(\" 删除 \")])])],1)}}])})],1)]),_vm._v(\" \"),_c('a-modal',{attrs:{\"width\":600,\"title\":\"添加子设备\"},on:{\"ok\":_vm.handleOk,\"cancel\":_vm.closeHandle},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('a-form-model',{ref:\"ruleForm\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-col\":_vm.labelCol,\"wrapper-col\":_vm.wrapperCol}},[_c('a-form-model-item',{attrs:{\"label\":\"所属产品\",\"prop\":\"productId\"}},[_c('a-select',{attrs:{\"show-search\":\"\",\"placeholder\":\"请选择或搜索产品\",\"option-filter-prop\":\"children\"},on:{\"search\":_vm.productSearch},model:{value:(_vm.form.productId),callback:function ($$v) {_vm.$set(_vm.form, \"productId\", $$v)},expression:\"form.productId\"}},_vm._l((_vm.productArr),function(item,index){return _c('a-select-option',{key:index,attrs:{\"value\":item.id}},[_vm._v(\"\\n              \"+_vm._s(item.productLabel)+\"\\n            \")])}),1)],1),_vm._v(\" \"),_c('a-form-model-item',{ref:\"deviceLabel\",attrs:{\"label\":\"设备名称\"}},[_c('a-input',{attrs:{\"placeholder\":\"请输入设备名称\"},model:{value:(_vm.form.deviceLabel),callback:function ($$v) {_vm.$set(_vm.form, \"deviceLabel\", $$v)},expression:\"form.deviceLabel\"}})],1),_vm._v(\" \"),_c('a-form-model-item',{ref:\"deviceCode\",attrs:{\"label\":\"设备标识码\",\"prop\":\"deviceCode\"}},[_c('a-input',{attrs:{\"placeholder\":\"请输入设备标识码\"},model:{value:(_vm.form.deviceCode),callback:function ($$v) {_vm.$set(_vm.form, \"deviceCode\", $$v)},expression:\"form.deviceCode\"}})],1)],1)],1),_vm._v(\" \"),_c('a-modal',{attrs:{\"width\":600,\"title\":\"设备详情\"},on:{\"ok\":_vm.DevHandleOk},model:{value:(_vm.devVisible),callback:function ($$v) {_vm.devVisible=$$v},expression:\"devVisible\"}},[_c('a-descriptions',{attrs:{\"title\":_vm.devObj.deviceLabel,\"bordered\":\"\",\"column\":2}},[_c('a-descriptions-item',{attrs:{\"label\":\"状态\"}},_vm._l((_vm.stateArr),function(item,index){return (item.value === _vm.devObj.deviceStatus)?_c('span',{key:index},[_vm._v(\"\\n              \"+_vm._s(item.label)+\"\\n            \")]):_vm._e()}),0),_vm._v(\" \"),_c('a-descriptions-item',{attrs:{\"label\":\"设备标识码\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.devObj.deviceCode)+\"\\n        \")]),_vm._v(\" \"),_c('a-descriptions-item',{attrs:{\"label\":\"所属产品\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.devObj.productLabel)+\"\\n        \")]),_vm._v(\" \"),_c('a-descriptions-item',{attrs:{\"label\":\"节点类型\"}},_vm._l((_vm.nodeArr),function(item,index){return (item.value === _vm.devObj.nodeType)?_c('span',{key:index},[_vm._v(\"\\n              \"+_vm._s(item.label)+\"\\n            \")]):_vm._e()}),0)],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"shadow-title\"},[_c('p',[_vm._v(\" 呈现通过网关方式接入到IoT的设备（传感器）。子设备的状态表示子设备接入网关的状态，由网关上报到IoT平台进行状态的刷新；如果网关不能正常上报子设备的状态信息到IoT平台，则展示的子设备状态不会刷新。 \")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-4235c87d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/equipment/Details/ChildDevice/childDevice.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4235c87d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./childDevice.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./childDevice.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./childDevice.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4235c87d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./childDevice.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4235c87d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/equipment/Details/ChildDevice/childDevice.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <div class=\"home-title\">\n      <span @click=\"goBack\"><a-icon type=\"arrow-left\" /></span>\n      <span>设备详情</span>\n    </div>\n    <div class=\"table-tab\">\n      <a-tabs v-model=\"tabIndex\" @change=\"callback\" destroyInactiveTabPane>\n        <a-tab-pane key=\"1\" tab=\"概述\">\n          <overView :deviceId=\"deviceId\" @tabIndex=\"changeTab\"></overView>\n        </a-tab-pane>\n        <a-tab-pane key=\"2\" tab=\"异步命令\">\n          <commandAsy :deviceId=\"deviceId\" :productId=\"productId\"></commandAsy>\n        </a-tab-pane>\n        <a-tab-pane key=\"3\" tab=\"设备影子\">\n          <equipmentShadow :deviceId=\"deviceId\"></equipmentShadow>\n        </a-tab-pane>\n        <a-tab-pane key=\"4\" tab=\"消息跟踪\">\n          <messageTrack :deviceId=\"deviceId\"></messageTrack>\n        </a-tab-pane>\n        <a-tab-pane key=\"5\" tab=\"子设备\">\n          <childDevice :deviceId=\"deviceId\"></childDevice>\n        </a-tab-pane>\n      </a-tabs>\n    </div>\n  </div>\n</template>\n\n<script>\nimport overView from './Details/OverView/overView'\nimport commandAsy from './Details/Command/commandAsy'\nimport equipmentShadow from './Details/EquipmentShadow/equipmentShadow'\nimport messageTrack from './Details/MessageTrack/messageTrack'\nimport childDevice from './Details/ChildDevice/childDevice'\nexport default {\n  name: 'equipmentDetails',\n  components: {\n    overView,\n    commandAsy,\n    equipmentShadow,\n    messageTrack,\n    childDevice\n  },\n  data () {\n    return {\n      tabIndex: '1',\n      deviceId: '',\n      productId: '',\n      deviceObj: {}\n    }\n  },\n  activated() {\n    this.tabIndex = '1'\n    this.deviceId = this.$route.query.id\n    this.productId = this.$route.query.productId\n  },\n  created() {\n    console.log('子组件', this.$route.query)\n    this.tabIndex = '1'\n    this.deviceId = this.$route.query.id\n    this.productId = this.$route.query.productId\n  },\n  methods: {\n    goBack() {\n      this.$router.push('/equipment')\n    },\n    changeTab(val) {\n      this.tabIndex = val\n    },\n    callback() {}\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.table-tab {\n  margin: 24px;\n  border-radius: 4px;\n  padding:0 24px 24px 24px;\n  background: #ffffff;\n}\n>>> .ant-tabs-nav-wrap {\n  height: 70px;\n  line-height: 46px;\n}\n>>> .ant-tabs-bar {\n  margin: 0;\n  height: 70px;\n  line-height: 70px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/equipment/equipmentDetails.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"home-title\"},[_c('span',{on:{\"click\":_vm.goBack}},[_c('a-icon',{attrs:{\"type\":\"arrow-left\"}})],1),_vm._v(\" \"),_c('span',[_vm._v(\"设备详情\")])]),_vm._v(\" \"),_c('div',{staticClass:\"table-tab\"},[_c('a-tabs',{attrs:{\"destroyInactiveTabPane\":\"\"},on:{\"change\":_vm.callback},model:{value:(_vm.tabIndex),callback:function ($$v) {_vm.tabIndex=$$v},expression:\"tabIndex\"}},[_c('a-tab-pane',{key:\"1\",attrs:{\"tab\":\"概述\"}},[_c('overView',{attrs:{\"deviceId\":_vm.deviceId},on:{\"tabIndex\":_vm.changeTab}})],1),_vm._v(\" \"),_c('a-tab-pane',{key:\"2\",attrs:{\"tab\":\"异步命令\"}},[_c('commandAsy',{attrs:{\"deviceId\":_vm.deviceId,\"productId\":_vm.productId}})],1),_vm._v(\" \"),_c('a-tab-pane',{key:\"3\",attrs:{\"tab\":\"设备影子\"}},[_c('equipmentShadow',{attrs:{\"deviceId\":_vm.deviceId}})],1),_vm._v(\" \"),_c('a-tab-pane',{key:\"4\",attrs:{\"tab\":\"消息跟踪\"}},[_c('messageTrack',{attrs:{\"deviceId\":_vm.deviceId}})],1),_vm._v(\" \"),_c('a-tab-pane',{key:\"5\",attrs:{\"tab\":\"子设备\"}},[_c('childDevice',{attrs:{\"deviceId\":_vm.deviceId}})],1)],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-77a2f4c6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/equipment/equipmentDetails.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-77a2f4c6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./equipmentDetails.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./equipmentDetails.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./equipmentDetails.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-77a2f4c6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./equipmentDetails.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-77a2f4c6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/equipment/equipmentDetails.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}