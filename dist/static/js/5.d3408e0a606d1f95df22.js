webpackJsonp([5],{"3AM3":function(e,t){},DF7x:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("aA9S"),s=a.n(r),o={name:"stepsOneDetails",props:["ruleId"],components:{BTextarea:a("EscQ").a},data:function(){return{descEdit:!1,nameEdit:!1,ruleObj:{},nameForm:{name:""},descform:{desc:""},descrules:{desc:[{validator:this.$validator.checkRemarkLength,message:"描述最多128字符",trigger:["blur","change"]}]}}},created:function(){this.getDetails()},methods:{getDetails:function(){var e=this;this.$api.getForwardDetails(this.ruleId).then(function(t){e.ruleObj=t.data})},nameModel:function(){this.nameEdit=!0,s()(this.nameForm,{name:this.ruleObj.ruleLabel})},canelEdit:function(){this.nameEdit=!1,this.putInfo()},closelEdit:function(){this.nameEdit=!1},descModel:function(){this.descEdit=!0,s()(this.descform,{desc:this.ruleObj.description})},descCanelEdit:function(){this.descEdit=!1,this.putInfo()},descCloselEdit:function(){this.descEdit=!1},putInfo:function(){var e=this,t={id:this.ruleId,description:this.descform.desc,ruleLabel:this.nameForm.name};this.$api.putRuleInfo(t).then(function(t){e.getDetails()})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"steps-titles"},[e._v("\n    针对部分类型数据提供的快速配置，将引导您完成简单的业务设置。您也可以直接编辑过滤语句，实现更复杂的查询要求。\n  ")]),e._v(" "),a("div",[a("a-descriptions",{attrs:{column:2}},[a("a-descriptions-item",{attrs:{label:"规则名称"}},[e.nameEdit?a("div",{staticClass:"account-edit"},[a("a-form-model",{ref:"nameform",attrs:{model:e.nameForm,layout:"inline"}},[a("a-form-model-item",{attrs:{prop:"name"}},[a("a-input",{model:{value:e.nameForm.name,callback:function(t){e.$set(e.nameForm,"name",t)},expression:"nameForm.name"}})],1)],1),e._v(" "),a("div",{staticClass:"edit-btn"},[a("span",{on:{click:e.canelEdit}},[e._v("保存")]),e._v(" "),a("span",{staticStyle:{color:"#C91521","padding-left":"15px"},on:{click:e.closelEdit}},[e._v("取消")])])],1):a("div",[a("span",[e._v(e._s(e.ruleObj.ruleLabel))]),e._v(" "),a("a-icon",{staticStyle:{color:"#0456DE","padding-left":"15px"},attrs:{type:"edit"},on:{click:e.nameModel}})],1)]),e._v(" "),a("a-descriptions-item",{attrs:{label:"规则ID"}},[e._v("\n        "+e._s(e.ruleObj.id)+"\n      ")]),e._v(" "),a("a-descriptions-item",{attrs:{label:"规则描述"}},[e.descEdit?a("div",{staticClass:"account-edit",attrs:{layout:"inline"}},[a("a-form-model",{ref:"descform",attrs:{rules:e.descrules,model:e.descform}},[a("a-form-model-item",{attrs:{prop:"name"}},[a("BTextarea",{staticClass:"full-width",staticStyle:{height:"auto"},attrs:{placeholder:"请输入描述"},model:{value:e.descform.desc,callback:function(t){e.$set(e.descform,"desc",t)},expression:"descform.desc"}})],1)],1),e._v(" "),a("div",{staticClass:"edit-btn"},[a("span",{staticStyle:{"padding-left":"15px"},on:{click:e.descCanelEdit}},[e._v("保存")]),e._v(" "),a("span",{staticStyle:{color:"#C91521","padding-left":"15px"},on:{click:e.descCloselEdit}},[e._v("取消")])])],1):a("div",[a("span",[e._v(e._s(e.ruleObj.description))]),e._v(" "),a("a-icon",{staticStyle:{color:"#0456DE","padding-left":"15px"},attrs:{type:"edit"},on:{click:e.descModel}})],1)]),e._v(" "),a("a-descriptions-item",{attrs:{label:"数据来源"}},[e._v("\n        "+e._s(e.ruleObj.subjectResource)+"\n      ")]),e._v(" "),a("a-descriptions-item",{attrs:{label:"触发事件"}},[e._v("\n        "+e._s(e.ruleObj.subjectEvent)+"\n      ")])],1)],1)])},staticRenderFns:[]};var i=a("C7Lr")(o,l,!1,function(e){a("3AM3")},"data-v-ac9c47f2",null).exports,n=a("p9HT"),c=a("afYK"),u={name:"dataForwardingDetail",components:{stepsOneDetails:i,stepsTwo:n.a,stepsThree:c.a},data:function(){return{current:0,steps:[{title:"设置转发数据",subTitle:"针对部分类型数据提供的快速配置，将引导您完成简单的业务设置。您也可以直接编辑过滤语句，实现更复杂的查询要求。",content:"First-content"},{title:"设置转发目标",content:"Second-content"},{title:"启动规则",content:"Last-content"}],ruleId:""}},activated:function(){this.ruleId=this.$route.query.id},created:function(){this.ruleId=this.$route.query.id},methods:{onChange:function(e){this.current=e},goBack:function(){this.$router.push("/dataForwardingList")}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"home-title"},[a("span",{on:{click:e.goBack}},[a("a-icon",{attrs:{type:"arrow-left"}})],1),e._v(" "),a("span",[e._v("新建数据转发规则详情")])]),e._v(" "),a("div",{staticClass:"forward-content"},[a("a-steps",{attrs:{current:e.current},on:{change:e.onChange}},e._l(e.steps,function(e){return a("a-step",{key:e.title,attrs:{title:e.title}})}),1),e._v(" "),a("div",{staticClass:"steps-content"},[0===e.current?a("stepsOneDetails",{attrs:{ruleId:e.ruleId}}):e._e(),e._v(" "),1===e.current?a("stepsTwo",{attrs:{ruleId:e.ruleId}}):e._e(),e._v(" "),2===e.current?a("stepsThree",{attrs:{ruleId:e.ruleId}}):e._e()],1)],1)])},staticRenderFns:[]};var p=a("C7Lr")(u,d,!1,function(e){a("WYhv")},"data-v-d79881a4",null);t.default=p.exports},WYhv:function(e,t){},afYK:function(e,t,a){"use strict";var r={name:"stepsThree",props:["ruleId"],data:function(){return{ruleObj:{},eventArr:[{value:"DEVICE_CREATE",label:"设备创建"},{value:"DEVICE_UPDATE",label:"设备更新"},{value:"DEVICE_DELETE",label:"设备删除"},{value:"DEVICE_PROPERTY_REPORT",label:"设备属性上报"},{value:"DEVICE_MESSAGE_REPORT",label:"设备消息上报"},{value:"DEVICE_STATUS_UPDATE",label:"设备状态更改"},{value:"PRODUCT_CREATE",label:"产品创建"},{value:"PRODUCT_UPDATE,",label:"产品更新"},{value:"PRODUCT_DELETE",label:"产品删除"}],resourceArr:[{value:"DEVICE",label:"设备"},{value:"DEVICE_MESSAGE",label:"设备消息"},{value:"DEVICE_PROPERTY",label:"设备属性"},{value:"DEVICE_STATUS",label:"设备状态"},{value:"PRODUCT",label:"产品"}]}},created:function(){this.getDetails()},methods:{getDetails:function(){var e=this;this.$api.getForwardDetails(this.ruleId).then(function(t){e.ruleObj=t.data})},changeStatus:function(){var e=this,t={forwardRuleId:this.ruleObj.id,status:!this.ruleObj.ruleStatus};this.$api.putForwardStatus(t).then(function(t){e.getDetails(),e.$router.push({path:"/dataForwardingList"})})}}},s={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"steps-titles"},[e._v("\n    完成完整的规则定义后，您就可以控制规则的运行，以实现数据转发。\n  ")]),e._v(" "),r("div",[r("a-row",{attrs:{gutter:24}},[r("a-col",{attrs:{span:6}},[r("div",{staticClass:"col-right"},[r("img",{attrs:{src:a("iQH9"),height:"56",width:"56"}}),e._v(" "),r("p",[e._v("规则未运行")]),e._v(" "),e.ruleObj.ruleStatus?r("a-button",{on:{click:e.changeStatus}},[e._v("停止规则")]):r("a-button",{on:{click:e.changeStatus}},[e._v("启动规则")])],1)]),e._v(" "),r("a-col",{attrs:{span:18}},[r("p",[e._v("规则概览")]),e._v(" "),r("div",{staticClass:"list-content"},[r("div",{staticClass:"list-item"},[r("span",{staticClass:"list-item-label"},[e._v("规则名称")]),e._v(" "),r("span",{staticClass:"list-item-content"},[e._v(e._s(e.ruleObj.ruleLabel))])]),e._v(" "),r("div",{staticClass:"list-item"},[r("span",{staticClass:"list-item-label"},[e._v("规则描述")]),e._v(" "),r("span",{staticClass:"list-item-content"},[e._v(e._s(e.ruleObj.description))])]),e._v(" "),r("div",{staticClass:"list-item"},[r("span",{staticClass:"list-item-label"},[e._v("数据来源")]),e._v(" "),e._l(e.resourceArr,function(t,a){return e.ruleObj.subjectResource===t.value?r("span",{key:a,staticClass:"list-item-content"},[e._v("\n              "+e._s(t.label)+"\n            ")]):e._e()})],2),e._v(" "),r("div",{staticClass:"list-item"},[r("span",{staticClass:"list-item-label"},[e._v("触发事件")]),e._v(" "),e._l(e.eventArr,function(t,a){return e.ruleObj.subjectEvent===t.value?r("span",{key:a,staticClass:"list-item-content"},[e._v("\n              "+e._s(t.label)+"\n            ")]):e._e()})],2)])])],1)],1)])},staticRenderFns:[]};var o=a("C7Lr")(r,s,!1,function(e){a("r+jN")},"data-v-a937158e",null);t.a=o.exports},p9HT:function(e,t,a){"use strict";var r=a("aA9S"),s=a.n(r),o={name:"stepsTwo",props:["ruleId"],components:{BTextarea:a("EscQ").a},data:function(){return{resourceTypeList:[{title:"RabbitMQ",key:"RABBIT"},{title:"Kafka",key:"KAFKA"},{title:"HTTP编码",key:"HTTP"}],arearArr:[{title:"cn-east-3",value:1}],methodArr:[{title:"GET",value:"GET"},{title:"POST",value:"POST"},{title:"PUT",value:"PUT"}],typeArr:[{title:"DIRECT",value:"DIRECT"},{title:"FANOUT",value:"FANOUT"},{title:"TOPIC",value:"TOPIC"},{title:"HEADERS",value:"HEADERS"}],resourceList:[],listData:[],visible:!1,targetform:{forwardRuleId:void 0,ruleResourceId:void 0,httpMethod:"",produceType:void 0,produceStrategy:void 0,messageKey:void 0,topic:"",exchange:"",exchangeType:void 0,routingKey:"",exchangeDurable:void 0,headers:[],resourceType:void 0},headerArr:[],rules:{httpMethod:[{required:!0,message:"请选择请求方式",trigger:"blur"}],ruleResourceId:[{required:!0,message:"请选择资源",trigger:"blur"}],path:[{required:!0,message:"请输入path",trigger:"blur"}]},isEdit:!1,titles:"新增转发目标",editVisible:!1,editForm:{forwardRuleId:void 0,ruleResourceId:void 0,httpMethod:"",produceType:void 0,produceStrategy:void 0,messageKey:void 0,topic:"",exchange:"",exchangeType:void 0,routingKey:"",exchangeDurable:void 0,headers:[],resourceType:void 0}}},created:function(){this.getResList()},methods:{deleteCancel:function(e){var t=this;this.$api.deleteForwardTarget(e).then(function(e){t.getResList()})},getResList:function(){var e=this,t={ruleId:this.ruleId};this.$api.getForwardTargetList(t).then(function(t){e.listData=t.data})},changeType:function(e){this.getResourceList()},getResourceList:function(){var e=this,t={resourceType:this.targetform.resourceType};this.$api.getResourceAllList(t).then(function(t){e.resourceList=t.data})},addHeader:function(){this.headerArr.push({key:"",value:""})},deleteHeader:function(e){var t=this;this.headerArr.map(function(a,r){a===e&&t.headerArr.splice(r,1)})},postAddTarget:function(){var e=this,t={forwardRuleId:"",ruleResourceId:"",configuration:{}};this.encapsulationForm(t,this.targetform),this.$api.postForwardTarget(t).then(function(t){e.visible=!1,e.getResList(),e.$emit("creatRule",!0)})},showModal:function(){this.isEdit=!1,this.visible=!0,this.targetform={},this.getResourceList()},handleOk:function(){this.postAddTarget()},putTarget:function(){var e=this,t={forwardRuleId:"",ruleResourceId:"",configuration:{},id:this.editForm.id};this.encapsulationForm(t,this.editForm),this.$api.putForwardTarget(t).then(function(t){e.editVisible=!1,e.getResList()})},editHandleOk:function(){this.editVisible=!1,this.putTarget()},encapsulationForm:function(e,t){switch(t.resourceType){case"HTTP":var a={};this.headerArr.map(function(e){a[e.key]=e.value}),t.headers=a,s()(e,{forwardRuleId:this.ruleId,ruleResourceId:t.ruleResourceId,configuration:{resourceType:t.resourceType,httpMethod:t.httpMethod,path:t.path,headers:t.headers}});break;case"RABBIT":s()(e,{forwardRuleId:this.ruleId,ruleResourceId:t.ruleResourceId,configuration:{resourceType:t.resourceType,exchange:t.exchange,exchangeType:t.exchangeType,routingKey:t.routingKey,exchangeDurable:0===t.exchangeDurable!=!1}});break;case"KAFKA":s()(e,{forwardRuleId:this.ruleId,ruleResourceId:t.ruleResourceId,configuration:{topic:t.topic,resourceType:t.resourceType,produceType:t.produceType,produceStrategy:t.produceStrategy,messageKey:t.messageKey}})}return e},editTarget:function(e){if(this.editVisible=!0,this.titles="修改转发目标",this.getResourceList(),"HTTP"===e.configuration.resourceType){var t=[],a=e.configuration.headers;for(var r in a){var o={};s()(o,{key:r,value:a[r]}),t.push(o)}this.headerArr=t}s()(this.editForm,{id:e.id,forwardRuleId:e.forwardRuleId,ruleResourceId:e.ruleResourceId,httpMethod:e.configuration.httpMethod,produceType:e.configuration.produceType,produceStrategy:e.configuration.produceStrategy,messageKey:e.configuration.messageKey,topic:e.configuration.topic,exchange:e.configuration.exchange,exchangeType:e.configuration.exchangeType,routingKey:e.configuration.routingKey,exchangeDurable:e.configuration.exchangeDurable?0:1,headers:this.headerArr,resourceType:e.configuration.resourceType,path:e.configuration.path})},produceChange:function(e){s()(this.editForm,{produceStrategy:e})},goForward:function(){this.$router.push("/resourceAllocationList")}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"steps-titles"},[e._v("\n    您可以设置将数据转发至华为云其他服务或私有服务器。\n  ")]),e._v(" "),a("div",{staticClass:"steps-target-title"},[a("a-button",{attrs:{type:"primary"},on:{click:e.showModal}},[e._v("添加")]),e._v(" "),a("span",[e._v("最多设置10个转发目标")])],1),e._v(" "),a("div",{staticClass:"target-list"},[a("a-list",{attrs:{size:"large",bordered:"","data-source":e.listData},scopedSlots:e._u([{key:"renderItem",fn:function(t,r){return a("a-list-item",{},[a("div",{staticClass:"list-flex"},[a("div",[a("span",[e._v(" "+e._s(t.ruleResource.configuration.resourceType))]),e._v(" "),a("span",{staticClass:"list-subtitle"},[e._v(e._s(t.ruleResource.configuration.host))])]),e._v(" "),a("div",[a("span",{staticClass:"table-btn",on:{click:function(a){return e.editTarget(t)}}},[e._v("修改")]),e._v(" "),a("a-popconfirm",{attrs:{title:"你确定删除此转发目标吗?","ok-text":"确定","cancel-text":"取消"},on:{confirm:function(a){return e.deleteCancel(t.id)}}},[a("span",{staticClass:"table-btn"},[e._v(" 删除 ")])])],1)])])}}])})],1),e._v(" "),a("a-modal",{attrs:{destroyOnClose:!0,width:700,title:e.titles},on:{ok:e.handleOk},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("a-form-model",{ref:"ruleForm",attrs:{model:e.targetform,rules:e.rules,layout:"horizontal"}},[a("a-form-model-item",{attrs:{label:"转发目标"}},[a("a-select",{attrs:{placeholder:"请选择转发目标",prop:"resourceType"},on:{change:e.changeType},model:{value:e.targetform.resourceType,callback:function(t){e.$set(e.targetform,"resourceType",t)},expression:"targetform.resourceType"}},e._l(e.resourceTypeList,function(t,r){return a("a-select-option",{key:r,attrs:{value:t.key}},[e._v("\n            "+e._s(t.title)+"\n          ")])}),1)],1),e._v(" "),a("a-divider"),e._v(" "),"RABBIT"===e.targetform.resourceType?a("div",[a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:20}},[a("a-form-model-item",{attrs:{label:"使用资源",prop:"ruleResourceId"}},[a("a-select",{attrs:{placeholder:"请选择资源"},model:{value:e.targetform.ruleResourceId,callback:function(t){e.$set(e.targetform,"ruleResourceId",t)},expression:"targetform.ruleResourceId"}},e._l(e.resourceList,function(t,r){return a("a-select-option",{key:r,attrs:{value:t.id}},[e._v("\n                  "+e._s(t.resourceLabel)+"\n                ")])}),1)],1)],1),e._v(" "),a("a-col",{staticStyle:{"margin-top":"2.7rem"},attrs:{span:4}},[a("a-button",{on:{click:e.goForward}},[e._v("新建")])],1)],1),e._v(" "),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:12}},[a("a-form-model-item",{attrs:{label:"RabbitMQ EXchange"}},[a("a-input",{attrs:{placeholder:"请输入RabbitMQ EXchange"},model:{value:e.targetform.exchange,callback:function(t){e.$set(e.targetform,"exchange",t)},expression:"targetform.exchange"}})],1),e._v(" "),a("a-form-model-item",{attrs:{label:"RabbitMQ EXchange key"}},[a("a-input",{attrs:{placeholder:"请输入RabbitMQ EXchange key"},model:{value:e.targetform.routingKey,callback:function(t){e.$set(e.targetform,"routingKey",t)},expression:"targetform.routingKey"}})],1)],1),e._v(" "),a("a-col",{attrs:{span:12}},[a("a-form-model-item",{attrs:{label:"RabbitMQ EXchange Type"}},[a("a-select",{attrs:{placeholder:"请输入"},model:{value:e.targetform.exchangeType,callback:function(t){e.$set(e.targetform,"exchangeType",t)},expression:"targetform.exchangeType"}},e._l(e.typeArr,function(t,r){return a("a-select-option",{key:r,attrs:{value:t.value}},[e._v("\n                  "+e._s(t.title)+"\n                ")])}),1)],1),e._v(" "),a("a-form-model-item",{attrs:{label:"RabbitMQ EXchange Durable"}},[a("a-select",{attrs:{placeholder:"请输入"},model:{value:e.targetform.exchangeDurable,callback:function(t){e.$set(e.targetform,"exchangeDurable",t)},expression:"targetform.exchangeDurable"}},[a("a-select-option",{attrs:{value:0}},[e._v("\n                  true\n                ")]),e._v(" "),a("a-select-option",{attrs:{value:1}},[e._v("\n                  false\n                ")])],1)],1)],1)],1)],1):e._e(),e._v(" "),"KAFKA"===e.targetform.resourceType?a("div",[a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:20}},[a("a-form-model-item",{attrs:{label:"使用资源",prop:"ruleResourceId"}},[a("a-select",{attrs:{placeholder:"请选择资源"},model:{value:e.targetform.ruleResourceId,callback:function(t){e.$set(e.targetform,"ruleResourceId",t)},expression:"targetform.ruleResourceId"}},e._l(e.resourceList,function(t,r){return a("a-select-option",{key:r,attrs:{value:t.id}},[e._v("\n                  "+e._s(t.resourceLabel)+"\n                ")])}),1)],1)],1),e._v(" "),a("a-col",{staticStyle:{"margin-top":"2.7rem"},attrs:{span:4}},[a("a-button",{on:{click:e.goForward}},[e._v("新建")])],1)],1),e._v(" "),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:12}},[a("a-form-model-item",{attrs:{label:"Kafka主题"}},[a("a-input",{attrs:{placeholder:"请输入kafka主题"},model:{value:e.targetform.topic,callback:function(t){e.$set(e.targetform,"topic",t)},expression:"targetform.topic"}})],1),e._v(" "),a("a-form-model-item",{attrs:{label:"Produce策略"}},[a("a-select",{attrs:{placeholder:"请选择produce策略"},model:{value:e.targetform.produceStrategy,callback:function(t){e.$set(e.targetform,"produceStrategy",t)},expression:"targetform.produceStrategy"}},[a("a-select-option",{attrs:{value:"async"}},[e._v("\n                  async\n                ")]),e._v(" "),a("a-select-option",{attrs:{value:"sync"}},[e._v("\n                  sync\n                ")])],1)],1)],1),e._v(" "),a("a-col",{attrs:{span:12}},[a("a-form-model-item",{attrs:{label:"Produce类型"}},[a("a-select",{attrs:{placeholder:"请选择produce类型"},model:{value:e.targetform.produceType,callback:function(t){e.$set(e.targetform,"produceType",t)},expression:"targetform.produceType"}},[a("a-select-option",{attrs:{value:"random"}},[e._v("\n                  random\n                ")])],1)],1),e._v(" "),a("a-form-model-item",{attrs:{label:"Message Key"}},[a("a-select",{attrs:{placeholder:"请选择messageKey"},model:{value:e.targetform.messageKey,callback:function(t){e.$set(e.targetform,"messageKey",t)},expression:"targetform.messageKey"}},[a("a-select-option",{attrs:{value:"none"}},[e._v("\n                  none\n                ")])],1)],1)],1)],1)],1):e._e(),e._v(" "),"HTTP"===e.targetform.resourceType?a("div",[a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:20}},[a("a-form-model-item",{attrs:{label:"使用资源",prop:"ruleResourceId"}},[a("a-select",{attrs:{placeholder:"请选择资源"},model:{value:e.targetform.ruleResourceId,callback:function(t){e.$set(e.targetform,"ruleResourceId",t)},expression:"targetform.ruleResourceId"}},e._l(e.resourceList,function(t,r){return a("a-select-option",{key:r,attrs:{value:t.id}},[e._v("\n                  "+e._s(t.resourceLabel)+"\n                ")])}),1)],1)],1),e._v(" "),a("a-col",{staticStyle:{"margin-top":"2.7rem"},attrs:{span:4}},[a("a-button",{on:{click:e.goForward}},[e._v("新建")])],1)],1),e._v(" "),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:12}},[a("a-form-model-item",{attrs:{label:"Method",prop:"httpMethod"}},[a("a-select",{attrs:{placeholder:"请选择请求方式"},model:{value:e.targetform.httpMethod,callback:function(t){e.$set(e.targetform,"httpMethod",t)},expression:"targetform.httpMethod"}},e._l(e.methodArr,function(t,r){return a("a-select-option",{key:r,attrs:{value:t.value}},[e._v("\n                  "+e._s(t.title)+"\n                ")])}),1)],1)],1),e._v(" "),a("a-col",{attrs:{span:12}},[a("a-form-model-item",{attrs:{label:"Path"}},[a("a-input",{attrs:{placeholder:"请输入地址"},model:{value:e.targetform.path,callback:function(t){e.$set(e.targetform,"path",t)},expression:"targetform.path"}})],1)],1)],1),e._v(" "),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{label:"请求头"}},[a("div",[a("div",{staticClass:"form-head"},[a("div",{staticClass:"form-items"},[e._v("键")]),e._v(" "),a("div",{staticClass:"form-items"},[e._v("值")]),e._v(" "),a("div",{staticClass:"form-add",on:{click:e.addHeader}},[e._v("添加")])]),e._v(" "),a("div",{staticClass:"form-ipt"},e._l(e.headerArr,function(t,r){return a("a-row",{key:r,attrs:{gutter:16}},[a("a-col",{attrs:{span:10}},[a("a-input",{attrs:{placeholder:"请输入key"},model:{value:t.key,callback:function(a){e.$set(t,"key",a)},expression:"item.key"}})],1),e._v(" "),a("a-col",{attrs:{span:10}},[a("a-input",{attrs:{placeholder:"请输入value"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}})],1),e._v(" "),a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:4}},[a("span",{staticClass:"table-btn",on:{click:function(a){return e.deleteHeader(t)}}},[e._v("删除")])])],1)}),1)])])],1)],1)],1):e._e()],1)],1),e._v(" "),a("a-modal",{attrs:{destroyOnClose:!0,width:700,title:"修改转发目标"},on:{ok:e.editHandleOk},model:{value:e.editVisible,callback:function(t){e.editVisible=t},expression:"editVisible"}},[a("a-form-model",{attrs:{model:e.editForm,layout:"horizontal"}},[a("a-form-model-item",{attrs:{label:"转发目标"}},[a("a-select",{attrs:{disabled:!0,placeholder:"请选择转发目标",prop:"resourceType"},on:{change:e.changeType},model:{value:e.editForm.resourceType,callback:function(t){e.$set(e.editForm,"resourceType",t)},expression:"editForm.resourceType"}},e._l(e.resourceTypeList,function(t,r){return a("a-select-option",{key:r,attrs:{value:t.key}},[e._v("\n            "+e._s(t.title)+"\n          ")])}),1)],1),e._v(" "),a("a-divider"),e._v(" "),"RABBIT"===e.editForm.resourceType?a("div",[a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:20}},[a("a-form-model-item",{attrs:{label:"使用资源",prop:"ruleResourceId"}},[a("a-select",{attrs:{placeholder:"请选择资源"},model:{value:e.editForm.ruleResourceId,callback:function(t){e.$set(e.editForm,"ruleResourceId",t)},expression:"editForm.ruleResourceId"}},e._l(e.resourceList,function(t,r){return a("a-select-option",{key:r,attrs:{value:t.id}},[e._v("\n                  "+e._s(t.resourceLabel)+"\n                ")])}),1)],1)],1),e._v(" "),a("a-col",{staticStyle:{"margin-top":"2.7rem"},attrs:{span:4}},[a("a-button",{on:{click:e.goForward}},[e._v("新建")])],1)],1),e._v(" "),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:12}},[a("a-form-model-item",{attrs:{label:"RabbitMQ EXchange"}},[a("a-input",{attrs:{placeholder:"请输入RabbitMQ EXchange"},model:{value:e.editForm.exchange,callback:function(t){e.$set(e.editForm,"exchange",t)},expression:"editForm.exchange"}})],1),e._v(" "),a("a-form-model-item",{attrs:{label:"RabbitMQ EXchange key"}},[a("a-input",{attrs:{placeholder:"请输入RabbitMQ EXchange key"},model:{value:e.editForm.routingKey,callback:function(t){e.$set(e.editForm,"routingKey",t)},expression:"editForm.routingKey"}})],1)],1),e._v(" "),a("a-col",{attrs:{span:12}},[a("a-form-model-item",{attrs:{label:"RabbitMQ EXchange Type"}},[a("a-select",{attrs:{placeholder:"请输入"},model:{value:e.editForm.exchangeType,callback:function(t){e.$set(e.editForm,"exchangeType",t)},expression:"editForm.exchangeType"}},e._l(e.typeArr,function(t,r){return a("a-select-option",{key:r,attrs:{value:t.value}},[e._v("\n                  "+e._s(t.title)+"\n                ")])}),1)],1),e._v(" "),a("a-form-model-item",{attrs:{label:"RabbitMQ EXchange Durable"}},[a("a-select",{attrs:{placeholder:"请输入"},model:{value:e.editForm.exchangeDurable,callback:function(t){e.$set(e.editForm,"exchangeDurable",t)},expression:"editForm.exchangeDurable"}},[a("a-select-option",{attrs:{value:0}},[e._v("\n                  true\n                ")]),e._v(" "),a("a-select-option",{attrs:{value:1}},[e._v("\n                  false\n                ")])],1)],1)],1)],1)],1):e._e(),e._v(" "),"KAFKA"===e.editForm.resourceType?a("div",[a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:20}},[a("a-form-model-item",{attrs:{label:"使用资源",prop:"ruleResourceId"}},[a("a-select",{attrs:{placeholder:"请选择资源"},model:{value:e.editForm.ruleResourceId,callback:function(t){e.$set(e.editForm,"ruleResourceId",t)},expression:"editForm.ruleResourceId"}},e._l(e.resourceList,function(t,r){return a("a-select-option",{key:r,attrs:{value:t.id}},[e._v("\n                  "+e._s(t.resourceLabel)+"\n                ")])}),1)],1)],1),e._v(" "),a("a-col",{staticStyle:{"margin-top":"2.7rem"},attrs:{span:4}},[a("a-button",{on:{click:e.goForward}},[e._v("新建")])],1)],1),e._v(" "),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:12}},[a("a-form-model-item",{attrs:{label:"Kafka主题",prop:"topic"}},[a("a-input",{attrs:{placeholder:"请输入kafka主题"},model:{value:e.editForm.topic,callback:function(t){e.$set(e.editForm,"topic",t)},expression:"editForm.topic"}})],1),e._v(" "),a("a-form-model-item",{attrs:{label:"Produce策略"}},[a("a-select",{attrs:{placeholder:"请选择produce策略"},on:{change:e.produceChange},model:{value:e.editForm.produceStrategy,callback:function(t){e.$set(e.editForm,"produceStrategy",t)},expression:"editForm.produceStrategy"}},[a("a-select-option",{attrs:{value:"async"}},[e._v("\n                  async\n                ")]),e._v(" "),a("a-select-option",{attrs:{value:"sync"}},[e._v("\n                  sync\n                ")])],1)],1)],1),e._v(" "),a("a-col",{attrs:{span:12}},[a("a-form-model-item",{attrs:{label:"Produce类型"}},[a("a-select",{attrs:{placeholder:"请选择produce类型"},model:{value:e.editForm.produceType,callback:function(t){e.$set(e.editForm,"produceType",t)},expression:"editForm.produceType"}},[a("a-select-option",{attrs:{value:"random"}},[e._v("\n                  random\n                ")])],1)],1),e._v(" "),a("a-form-model-item",{attrs:{label:"Message Key"}},[a("a-select",{attrs:{placeholder:"请选择messageKey"},model:{value:e.editForm.messageKey,callback:function(t){e.$set(e.editForm,"messageKey",t)},expression:"editForm.messageKey"}},[a("a-select-option",{attrs:{value:"none"}},[e._v("\n                  none\n                ")])],1)],1)],1)],1)],1):e._e(),e._v(" "),"HTTP"===e.editForm.resourceType?a("div",[a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:20}},[a("a-form-model-item",{attrs:{label:"使用资源",prop:"ruleResourceId"}},[a("a-select",{attrs:{placeholder:"请选择资源"},model:{value:e.editForm.ruleResourceId,callback:function(t){e.$set(e.editForm,"ruleResourceId",t)},expression:"editForm.ruleResourceId"}},e._l(e.resourceList,function(t,r){return a("a-select-option",{key:r,attrs:{value:t.id}},[e._v("\n                  "+e._s(t.resourceLabel)+"\n                ")])}),1)],1)],1),e._v(" "),a("a-col",{staticStyle:{"margin-top":"2.7rem"},attrs:{span:4}},[a("a-button",{on:{click:e.goForward}},[e._v("新建")])],1)],1),e._v(" "),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:12}},[a("a-form-model-item",{attrs:{label:"Method",prop:"httpMethod"}},[a("a-select",{attrs:{placeholder:"请选择请求方式"},model:{value:e.editForm.httpMethod,callback:function(t){e.$set(e.editForm,"httpMethod",t)},expression:"editForm.httpMethod"}},e._l(e.methodArr,function(t,r){return a("a-select-option",{key:r,attrs:{value:t.value}},[e._v("\n                  "+e._s(t.title)+"\n                ")])}),1)],1)],1),e._v(" "),a("a-col",{attrs:{span:12}},[a("a-form-model-item",{attrs:{label:"Path"}},[a("a-input",{attrs:{placeholder:"请输入地址"},model:{value:e.editForm.path,callback:function(t){e.$set(e.editForm,"path",t)},expression:"editForm.path"}})],1)],1)],1),e._v(" "),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{label:"请求头"}},[a("div",[a("div",{staticClass:"form-head"},[a("div",{staticClass:"form-items"},[e._v("键")]),e._v(" "),a("div",{staticClass:"form-items"},[e._v("值")]),e._v(" "),a("div",{staticClass:"form-add",on:{click:e.addHeader}},[e._v("添加")])]),e._v(" "),a("div",{staticClass:"form-ipt"},e._l(e.headerArr,function(t,r){return a("a-row",{key:r,attrs:{gutter:16}},[a("a-col",{attrs:{span:10}},[a("a-input",{attrs:{placeholder:"请输入key"},model:{value:t.key,callback:function(a){e.$set(t,"key",a)},expression:"item.key"}})],1),e._v(" "),a("a-col",{attrs:{span:10}},[a("a-input",{attrs:{placeholder:"请输入value"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}})],1),e._v(" "),a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:4}},[a("span",{staticClass:"table-btn",on:{click:function(a){return e.deleteHeader(t)}}},[e._v("删除")])])],1)}),1)])])],1)],1)],1):e._e()],1)],1)],1)},staticRenderFns:[]};var i=a("C7Lr")(o,l,!1,function(e){a("sjd3")},"data-v-f8f4ef42",null);t.a=i.exports},"r+jN":function(e,t){},sjd3:function(e,t){}});
//# sourceMappingURL=5.d3408e0a606d1f95df22.js.map